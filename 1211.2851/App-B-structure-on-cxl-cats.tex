% Note: standard ordering of rules we currently follow throughout is:
% Pi; Sigma; Id; W; 0; 1; +; universes.

\section{Logical structure on contextual categories} \label{app:cxl-structure}

We give here full translations of the various type-theoretic rules and axioms into the language of contextual categories: the logical rules of Section~\ref{subsec:logical-rules}, the universe rules of Section \ref{subsec:universe-rules}, the extensionality and $\eta$-rules of Section~\ref{subsec:optional-rules}, and Axiom~\ref{axiom:univalence}, the Univalence Axiom.

\subsection{Logical structure}

\begin{definition}
A \emph{$\synPi$-type structure} on a contextual category $\CC$ consists of:
\begin{enumerate}
  \item for each $(\Gamma, A, B) \in \ob_{n+2} \CC$, an object $(\Gamma, \synPi(A, B)) \in \ob_{n+1} \CC$;
  \item for each such $(\Gamma, A, B) $ and section $b \colon (\Gamma, A) \to (\Gamma, A, B)$, a section $\lambda(b) \colon \Gamma \to$ $(\Gamma, \synPi(A, B))$;
  \item for each such $(\Gamma, A, B) $ and pair of sections $k \colon \Gamma \to (\Gamma, \synPi (A, B))$, $a \colon \Gamma \to (\Gamma, A)$, a section $\app(k,a) \colon \Gamma \to (\Gamma, A, B)$ such that $p_B \cdot \app(k,a) = a$,
 \item such that for each $(\Gamma, A, B)$, $a \colon \Gamma \to (\Gamma, A)$ and $b \colon (\Gamma, A) \to (\Gamma, A, B)$, we have $\app(\lambda(b),a) = b \cdot a$;
 \item and for any $f \colon \Gamma' \to \Gamma$, and all appropriate arguments as above,
   \begin{gather*}
     f^*(\Gamma, \synPi(A, B)) = (\Gamma', \synPi(f^*A, f^*B)), \\
     f^*\lambda(b) = \lambda({f^*b}), \qquad f^*(\app(k,a)) = \app(f^*k,f^*a).
   \end{gather*}
 \end{enumerate}
\end{definition}

Given a $\synPi$-structure on $\CC$, and $(\Gamma,A,B)$ as above, write $\app_{A,B}$ for the morphism 
\begin{multline*}
  q(q(p_{\synPi(A,B)} \cdot p_{p_{\synPi(A,B)}^*A},A),B) \cdot {} \\
  \app_{(p_{\synPi(A,B)} \cdot p_{p_{\synPi(A,B)}^*A})^* A,\, (p_{\synPi(A,B)} \cdot p_{p_{\synPi(A,B)}^*A})^* B}\, \big( (1,p_{p_{\synPi(A,B)}^*A}) , (1, q(p_{\synPi(A,B)},A)) \big) \\
  \colon (\Gamma,\synPi(A,B),p_{\synPi(A,B)}^*A) \to (\Gamma,A,B);
\end{multline*}
the general form $\app_{A,B}(k,a)$ can be re-derived from these instances.  Also, for objects $(\Gamma,A)$, $(\Gamma,B)$ in $\CC$, write $(\Gamma,[A,B])$ for $(\Gamma, \synPi(A,p_A^*B))$.

\begin{definition}
A \emph{$\synSigma$-type structure} on a contextual category $\CC$ consists of:
\begin{enumerate}
  \item for each $(\Gamma, A, B) \in \ob_{n+2} \CC$, an object $(\Gamma, \synSigma(A, B)) \in \ob_{n+1} \CC$;
  \item for each such $(\Gamma,A,B)$, a morphism $\pair_{A,B} \colon (\Gamma,A,B) \to (\Gamma, \synSigma(A,B))$ over $\Gamma$;
  \item for each $(\Gamma,A,B)$, object $(\Gamma, \synSigma(A,B), C)$, and map $d \colon (\Gamma,A,B) \to (\Gamma, \synSigma(A,B), C)$ with $p_C \cdot d = \pair_{A,B}$, a section $\synsplit_d \colon (\Gamma,\synSigma(A,B)) \to (\Gamma, \synSigma(A,B), C)$, with $\synsplit_d \cdot \pair_{A,B} = d$;
\item such that for $f \colon \Gamma' \to \Gamma$, and all appropriate arguments as above,
   \begin{gather*}
     f^*(\Gamma, \synSigma(A, B)) = (\Gamma', \synSigma(f^*A, f^*B)), \\
     f^*\pair_{A,B} = \pair_{f^*A,f^*B}, \qquad f^*\synsplit_d = \synsplit_{f^*d}.
   \end{gather*}
 \end{enumerate}
\end{definition}

\begin{definition}
An \emph{$\synId$-type structure} on a contextual category $\CC$ consists of:
\begin{enumerate}
  \item for each $(\Gamma, A)$, an object $(\Gamma, A, p_A^*A, \synId_A)$;
  \item for each $(\Gamma,A)$, a morphism $\refl_A \colon (\Gamma,A) \to (\Gamma, A, p_A^*A, \synId_A)$, such that $p_{\synId_A} \cdot \refl_A = (1_A,1_A) \colon (\Gamma,A) \to (\Gamma, A, p_A^*A)$;
  \item for each $(\Gamma, A, p_A^*A, \synId_A, C)$ and $d \colon (\Gamma,A) \to (\Gamma, A, p_A^*A, \synId_A, C)$ with $p_C \cdot d = \refl_A$, a section $\synJ_{C,d} \colon (\Gamma, A, p_A^*A, \synId_A) \to (\Gamma, A, p_A^*A, \synId_A, C)$, such that $\synJ_{C,d} \cdot \refl_A = d$;
\item such that for $f \colon \Gamma' \to \Gamma$, and all appropriate arguments as above,
   \begin{gather*}
     f^*(\Gamma, A, p_A^*A, \synId_A) = (\Gamma', f^*A, (p_{f^*A})^*(f^*A), \synId_{f^*A}), \\
     f^*\refl_A = \refl_{f^*A}, \qquad f^*\synJ_{C,d} = \synJ_{f^*C,f^*d}.
   \end{gather*}
 \end{enumerate}
\end{definition}

\begin{definition}
Given a contextual category $\CC$ equipped with a $\synPi$-type structure, a \emph{$\synW$-type structure} on $\CC$ consists of:
\begin{enumerate}
   \item for each $(\Gamma, A, B)$, an object $(\Gamma, \synW(A,B))$;
  \item for each $(\Gamma,A,B)$, a map over $\Gamma$
\[ \syn{sup}_{A,B} \colon (\Gamma, A, \synPi(B,p_B^*p_A^*\synW(A,B))) \to (\Gamma, \synW(A,B)); \]
  \item for each $(\Gamma,\synW(A,B),C)$ and map 
\begin{multline*}
  d \colon \big( \Gamma, A, [B,p_A^*\synW(A,B)], \synPi \big( p_{[B,p_A^*\synW(A,B)]}^*B, \\
  \app(p_{p_{[B,p_A^*\synW(A,B)]}^*B},q(p_{[B,p_A^*\synW(A,B)]},B))^*C\big)\big) \to (\Gamma,\synW(A,B),C)
\end{multline*}
such that 
\[ p_C \cdot d = \syn{sup}_{A,B} \cdot p_{\synPi(p_{[B,p_A^*\synW(A,B)]}^*B,\app(p_{p_{[B,p_A^*\synW(A,B)]}^*B},q(p_{[B,p_A^*\synW(A,B)]},B))^*C)}, \]
a section $\wrec_{C,d} \colon (\Gamma,\synW(A,B)) \to (\Gamma,\synW(A,B),C)$, such that 
\begin{multline*}
  \wrec_{C,d} \cdot \syn{sup}_{A,B} = \\
  d \cdot \lambda(\wrec_{C,d} \cdot \app(p_{p_{[B,p_A^*\synW(A,B)]}^*B},q(p_{[B,p_A^*\synW(A,B)]},B)));
\end{multline*}
  \item and such that for $f \colon \Gamma' \to \Gamma$, and all appropriate arguments as above,
    \begin{gather*}
     f^*(\Gamma, \synW(A,B)) = (\Gamma', \synW(f^*A,f^*B)), \\
     f^*\syn{sup}_{A,B} = \syn{sup}_{f^*A,f^*B}, \qquad f^*\wrec_{C,d} = \wrec_{f^*C,f^*d}.
    \end{gather*}
 \end{enumerate}
\end{definition}

\begin{definition}
A \emph{zero-type structure} on a contextual category $\CC$ consists of:
\begin{enumerate}
  \item for each $\Gamma$, an object $(\Gamma,\synZero_\Gamma)$;
  \item for any object $(\Gamma,\synZero_\Gamma, C)$, a section $\syncase_C \colon (\Gamma,\synZero_\Gamma) \to (\Gamma,\synZero_\Gamma, C)$;
  \item such that for each $f \colon \Gamma' \to \Gamma$, $f^*(\Gamma, \synZero_\Gamma) = (\Gamma', \synZero_{\Gamma'})$; and for each such $f$ and $(\Gamma,\synZero_\Gamma, C)$ as above, $f^*(\syncase_C) = \syncase_{f^*C}$.
  \end{enumerate}
\end{definition}

\begin{definition}
A \emph{unit-type structure} on a contextual category $\CC$ consists of:
\begin{enumerate}
  \item for each $\Gamma$, an object $(\Gamma,\synOne_\Gamma)$;
  \item a section $\ast_{\Gamma} \colon (\Gamma) \to (\Gamma,\synOne_\Gamma)$;
  \item for each object $(\Gamma,\synOne_\Gamma, C)$, and map $d \colon \Gamma \to (\Gamma,\synOne_\Gamma, C)$ with $p_C \cdot d = \ast_{\Gamma}$, a section $\synrec_{C,d} \colon (\Gamma,\synOne_\Gamma) \to (\Gamma,\synOne_\Gamma, C)$, such that $\synrec_{C,d} \cdot \ast_{\Gamma} = d$;
  \item such that for $f \colon \Gamma' \to \Gamma$, and appropriate arguments as above,
   \begin{gather*}
     f^*(\Gamma, \synOne_\Gamma) = (\Gamma', \synOne_{\Gamma'}), \\
     f^*\ast_{\Gamma} = \ast_{\Gamma'}, \qquad f^*\synrec_{C,d} = \synrec_{f^*C,f^*d}.
   \end{gather*} 
 \end{enumerate}
\end{definition}
% \todo{Add the target type argument into recursors where it’s not already shown, since it’s \emph{not} typically deducible?}

\begin{definition}
A \emph{sum-type structure} on a contextual category $\CC$ consists of:
\begin{enumerate}
  \item for any objects $(\Gamma,A)$ and $(\Gamma,B)$, an object $(\Gamma,A+B)$;
  \item for each such $(\Gamma,A)$, $(\Gamma,B)$, maps $\inl_{A,B} \colon (\Gamma,A) \to (\Gamma,A+B)$ and $\inr_{A,B} \colon (\Gamma,B) \to$ $(\Gamma,A+B)$, over $\Gamma$;
  \item for each object $(\Gamma,A+B, C)$, and maps $d_l \colon (\Gamma,A) \to (\Gamma,A+B, C)$, $d_r \colon (\Gamma,B) \to$ $(\Gamma,A+B, C)$ with $p_C \cdot d_l = \inl_{A,B}$ and $p_C \cdot d_r = \inr_{A,B}$, a section $\syncase_{C,d_l,d_r} \colon (\Gamma,A+B) \to (\Gamma,A+B,C)$, such that $\syncase_{C,d_l,d_r} \cdot \inl_{A,B} = d_l$ and $\syncase_{C,d_l,d_r} \cdot \inr_{A,B} = d_r$;
  \item such that for $f \colon \Gamma' \to \Gamma$, and appropriate arguments as above,
   \begin{gather*}
     f^*(\Gamma,A+B) = (\Gamma', f^*A + f^*B), \qquad f^*(\inl_{A,B}) = \inl_{f^*A,f^*B}, \\
     f^*(\inr_{A,B}) = \inr_{f^*A,f^*B}, \qquad f^*(\syncase_{C,d_l,d_r}) = \syncase_{f^*C,f^*d_l,f^*d_r}.
   \end{gather*} 
 \end{enumerate}
\end{definition}

\subsection{Universes}

As in Section~\ref{subsec:universe-rules}, one may consider a universe closed under some or all of the logical structure of the ambient contextual category; that is, carrying operations reflecting the global operations on types.

\begin{definition}
A \emph{universe} in a contextual category $\CC$ is a distinguished object $(\synU,\el) \in \ob_2 \CC$.

Assuming a $\synPi$-type structure on $\CC$, we say $(\synU,\el)$ is \emph{closed under $\synPi$-types} if for all maps $a \colon \Gamma \to \synU$ and $b \colon (\Gamma, a^*\el) \to \synU$, we are given a map $\synpi(a,b) \colon \Gamma \to \synU$, such that $(\Gamma,\synpi(a,b)^*\el) = (\Gamma,\synPi(a^*\el,b^*\el))$, and moreover stably in $\Gamma$, i.e.\ such that for $f \colon \Gamma' \to \Gamma$ and $a$, $b$ as above, $f^*(\synpi(a,b)) = \synpi(f^*a,f^*b)$.

Similarly, given a $\synSigma$-type structure on $\CC$, say $(\synU,\el)$ is \emph{closed under $\synSigma$-types} if for each $a \colon \Gamma \to \synU$ and $b \colon (\Gamma, a^*\el) \to \synU$, we are given $\synsigma(a,b) \colon \Gamma \to \synU$, such that $(\Gamma,\synsigma(a,b)^*\el) = (\Gamma,\synSigma(a^*\el,b^*\el))$, and such that for $f \colon \Gamma' \to \Gamma$ and $a$, $b$ as above, $f^*(\synsigma(a,b)) = \synsigma(f^*a,f^*b)$.

Given an $\synId$-type structure on $\CC$, say $(\synU,\el)$ is \emph{closed under $\synId$-types} if for each $a \colon \Gamma \to \synU$, we are given a map $\synid_a \colon (\Gamma,a^*\el,p_{a^*\el}^*a^*\el) \to \synU$, such that $(\Gamma,a^*\el,p_{a^*\el}^*a^*\el,\synid_a^*\el) = (\Gamma,a^*\el,p_{a^*\el}^*a^*\el,\synId_{a^*\el})$, and such that for $f \colon \Gamma' \to \Gamma$ and $a$ as above, $f^*(\synid_a) = \synid_{f^*a}$.

Given a zero-type (resp.\ unit-type) structure on $\CC$, say $(\synU,\el)$ \emph{contains $\synZero$ (resp.\ $\synOne$)} if we are given a map $\synz \colon \pt \to \synU$ (resp.\ $\syno$) such that $\synz^*\el = \synZero$ ($\syno^*\el = \synOne$).

Given a sum-type structure on $\CC$, say $(\synU,\el)$ is \emph{closed under sum types} if for each pair of maps $a,b \colon \Gamma \to \synU$, we are given $a \smallplus b \colon \Gamma \to \synU$, such that $(a \smallplus b)^*\el = a^*\el + b^*\el$, and moreover such that $f \colon \Gamma' \to \Gamma$ and $a,b$ as above, $f^*(a \smallplus b) = f^*a \smallplus f^*b$.

Given $\synW$-type structure on $\CC$, say $(\synU,\el)$ is \emph{closed under $\synW$-types} if for each $a \colon \Gamma \to \synU$ and $b \colon (\Gamma, a^*\el) \to \synU$, we are given $\synw(a,b) \colon \Gamma \to \synU$, such that $(\Gamma,\synw(a,b)^*\el) = (\Gamma,\synW(a^*\el,b^*\el))$, and such that for $f \colon \Gamma' \to \Gamma$ and $a$, $b$ as above, $f^*(\synw(a,b)) = \synw(f^*a,f^*b)$.
\end{definition}

\subsection{Extensionality and Univalence} \label{subsec:optional-rules-alg}

For the following group of rules, let $\CC$ be a contextual category equipped with chosen $\synPi$- and $\synId$-type structures.

\begin{definition}
Say that $\CC$ satisfies the \emph{$\synPi$-$\eta$ rule} if for any $(\Gamma,A,B)$, the ``$\eta$-expansion'' map
\[ q(p_{\synPi(A,B)},\synPi(A,B)) \cdot \lambda (1_{p_{\synPi(A,B)}^*A},\app_{A,B})  \colon (\Gamma,\synPi(A,B)) \to (\Gamma,\synPi(A,B)) \]
is equal to $1_{(\Gamma,\synPi(A,B))}$.

A \emph{$\synPi$-\textsc{ext} structure} on $\CC$ is an operation giving for each $(\Gamma,A,B)$ a map 
\begin{multline*}
  \ext_{A,B} \colon (\Gamma,\synPi(A,B),p_{\synPi(A,B)}^*\synPi(A,B),\syn{Htp}_{A,B}) \to \\
  (\Gamma,\synPi(A,B),p_{\synPi(A,B)}^*\synPi(A,B),\synId_{A,B})
\end{multline*}
over $(\Gamma,\synPi(A,B),p_{\synPi(A,B)}^*\synPi(A,B))$, stably in $\Gamma$, where $\syn{Htp}_{A,B}$ is the object
\begin{multline*}
   \Big( \Gamma,\ \synPi(A,B),\ p_{\synPi(A,B)}^*\synPi(A,B),\ 
   \synPi\Big( \big(p_{\synPi(A,B)} \cdot p_{p_{\synPi(A,B)}^*\synPi(A,B)} \big)^*A, \\
   \big(\app_{A,B} \cdot q(p_{\synPi(A,B)},A), \app_{A,B} \cdot q(q(p_{\synPi(A,B)},\synPi(A,B)),A) \big)^* \synId_B \Big) \Big).
\end{multline*}

Given a $\synPi$-\textsc{ext} structure on $\CC$, a \emph{$\synPi$-\textsc{ext-comp-prop} structure} for it is an operation giving, for each $(\Gamma,A,B)$ and section $f \colon \Gamma \to (\Gamma,\synPi(A,B))$, a map 
\begin{multline*} \extcomp(f) \colon \Gamma \to \\
  (\Gamma,\,\synPi(A,B),\, p_{\synPi(A,B)}^*\synPi(A,B),\, \synId_{\synPi(A,B)},\, p_{\synId_{\synPi(A,B)}}^*\synId_{\synPi(A,B)},\, \synId_{\synId_{\synPi(A,B)}})
\end{multline*}
over the pair of maps
\begin{multline*} \ext_{A,B}(f,g) \cdot \lambda(1_A,\refl_B \cdot p_{p_A^*B}\cdot \app((1_A,f),(1_A,1_A)))\ \ ,\ \ \refl_{\synPi(A,B)} \cdot f \\
\colon \Gamma \to (\Gamma,\,\synPi(A,B),\, p_{\synPi(A,B)}^*\synPi(A,B),\, \synId_{\synPi(A,B)}),
\end{multline*}
stably as ever in $\Gamma$.

\end{definition}

Before defining the Univalence Axiom, we first (as in Section~\ref{subsec:type-theoretic-univalence}) set up several auxiliary definitions.  We assume, from here on, that $\CC$ is equipped also with $\synSigma$- and $\synId$-type structures.

\begin{definition}
For objects $(\Gamma,X)$, $(\Gamma,Y)$ of $\CC$, let 
\[ \syn{exch}_{X,Y} \colon (\Gamma,X,p_X^*Y) \to (\Gamma,Y,p_Y^*X) \]
be the evident ``exchange'' map, $(q(p_X,Y), p_{p_X^*Y})$.
\end{definition}

\begin{definition}
Let $(\Gamma,A)$, $(\Gamma,B)$ be objects of $\CC$.

Take $(\Gamma,[A,B],\synLHInv_{A,B})$ to be the object
\begin{multline*}
  \Big(\Gamma,\ [A,B],\ \synSigma\Big( p_{[A,B]}^*[B,A] ,\, \synPi \Big( (p_{[A,B]}  \cdot p_{p_{[A,B]}^*[B,A]})^*A, \\
  \big(q(p_B,A) \cdot \app_{B,A} \cdot q(p_{p_{[B,A]}^*A},p_{[B,A]}^*B) \cdot \app_{p_{[B,A]}^*A,\,p_{[B,A]}^*B}  \qquad \qquad \\
   \cdot q(\syn{exch}_{[A,B],[B,A]},A),\ q(p_{[A,B]} \cdot p_{p_{[A,B]}^*[B,A]},A)\big)^*\synId_A \Big) \Big) \Big).
\end{multline*}
% (G,A,p_A^*B) -> (G,B,p_B^*A) : (q(p_A,B),p_{p_A^*B}) 

% LHInv:
% obtained by Sigma from a context (G, [A,B], p_{[A,B]}^*[B,A], ?? )
% where ?? is obtained by Pi from context (G, [A,B], p_{[A,B]}^*[B,A], p*p*A, ?? )
% where ?? is obtained by pullback of Id_B along two maps (G, [A,B], p_{[A,B]}^*[B,A], p*p*A) -> (G, A):
% second is q(p_{p*[B,A]}.p_{[A,B]},A),
% first is composite:
% (G, [A,B], p_{[A,B]}^*[B,A], p*p*A) —q(exch_{[A,B],[A,B]},A)—>(G, [B,A], p_{[B,A]}^*[A,B], p*p*A)
% —ev_{p_{[B,A]}^*A,p_{[B,A]}^*B,}—> (G, [B,A], p*A, p_{p*A}*p*B)
% —q(p_{p*A})—> (G, [B,A], p*B)
% —ev_{B,A}—> (G, B, p_B^*A)
% —q(p_B,A)—> (G, A)

Similarly, take $(\Gamma,[A,B],\synRHInv_{A,B})$ to be the object
\begin{multline*}
  \Big(\Gamma,\ [A,B],\ \synSigma\Big( p_{[A,B]}^*[B,A] ,\, \synPi \Big( (p_{[A,B]}  \cdot p_{p_{[A,B]}^*[B,A]})^*B, \\
  \big(q(p_A,B) \cdot \app_{A,B} \cdot q(p_{p_{[A,B]}^*B},p_{[A,B]}^*A) \cdot \app_{p_{[A,B]}^*B,\,p_{[A,B]}^*A}, \qquad \qquad \\
   q(p_{[A,B]} \cdot p_{p_{[A,B]}^*[B,A]},B)\big)^*\synId_B \Big) \Big) \Big).
\end{multline*}

% RHInv:
% obtained by Sigma from a context (G, [A,B], p_{[A,B]}^*[B,A], ?? )
% where ?? is obtained by Pi from context (G, [A,B], p_{[A,B]}^*[B,A], p*p*B, ?? )
% where ?? is obtained by pullback of Id_B along two maps (G, [A,B], p_{[A,B]}^*[B,A], p*p*B) -> (G, B):
% second is q(p_{p*[B,A]}.p_{[A,B]},B),
% first is composite:
% (G, [A,B], p_{[A,B]}^*[B,A], p*p*B) —ev_{p_{[A,B]}^*B,p_{[A,B]}^*A,}—> (G, [A,B], p*B, p_{p*B}*p*A)
% —q(p_{p*B})—> (G, [A,B], p*A)
% —ev_{A,B}—> (G, A, p_A^*B)
% —q(p_A,B)—> (G, B)

Now, set 
\[ (\Gamma,[A,B],\synisHIso_{A,B}) := (\Gamma,[A,B],\synLHInv_{A,B} \times \synRHInv_{A,B}), \]
\[ (\Gamma,\synHIso(A,B)) := (\Gamma,\synSigma([A,B],\synisHIso_{A,B}). \]
\end{definition}

\begin{definition}
For any $(\Gamma,A)$, there is a canonical ``identity'' section 
  \[ \syn{id}_A := \lambda( (1_A,1_A) ) \colon \Gamma \to (\Gamma,[A,A]); \]
and this morevover lifts to a section
$ \syn{id}^{\syn{isHIso}}_A \colon \Gamma \to (\Gamma,[A,A],\synisHIso_{A,A}), $
given in full by
\begin{multline*}
  \pair_{\synLHInv_{A,A},\synRHInv_{A,A}} \cdot \Big( % \\ linebreak here, if one needed
  \pair_{p_{[A,A]}^*[A,A], \syn{H}_{\syn{L}} } \cdot q( (\syn{id}_A, \syn{id}_A), \syn{H}_{\syn{L}}) \cdot \lambda((1_A,\refl_A)),\\
  \pair_{p_{[A,A]}^*[A,A], \syn{H}_{\syn{R}} } \cdot q( (\syn{id}_A, \syn{id}_A), \syn{H}_{\syn{R}}) \cdot \lambda((1_A,\refl_A))  \Big),
\end{multline*}
where $\syn{H}_{\syn{L}}$ is the object
\begin{multline*}
  \Big(\Gamma,\ [A,A],\ p_{[A,A]}^*[A,A] ,\, \synPi \Big( (p_{[A,A]}  \cdot p_{p_{[A,A]}^*[A,A]})^*A, \\
  \big(q(p_A,A) \cdot \app_{A,A} \cdot q(p_{p_{[A,A]}^*A},p_{[A,A]}^*A) \cdot \app_{p_{[A,A]}^*A,\,p_{[A,A]}^*A}  \qquad \qquad \\
  \cdot q(\syn{exch}_{[A,A],[A,A]},A),\ q(p_{[A,A]} \cdot p_{p_{[A,A]}^*[A,A]},A)\big)^*\synId_A \Big) \Big)
\end{multline*}
and $\syn{H}_{\syn{R}}$ is the same but with $q(\syn{exch}_{[A,A],[A,A]},A)$ omitted. 

Lastly, set $\syn{id}^{\syn{HIso}} := \pair_{[A,A],\synisHIso_{A,A}} \cdot \syn{id}^{\syn{isHIso}}_A \colon \Gamma \to (\Gamma, \synHIso(A,A))$.
\end{definition}

\begin{definition}
For any object $(\Gamma,A,B)$, we can now define a map
\[ \syn{w}_{A,B} \colon (\Gamma,A,p_A^*A,\synId_A) \to (\Gamma,A,p_A^*A,\synHIso(p_{p_A^*A}^*B,q(p_A,A)^*B)) \]
by
\begin{multline*}
  \syn{w}_{A,B} := q(p_{\synId_A}, \synHIso(p_{p_A^*A}^*B,q(p_A,A)^*B)) \cdot {}\\
  \synJ\big( p_{\synId_A}^*\synHIso(p_{p_A^*A}^*B,q(p_A,A)^*B), \\
    q(\refl_A,p_{\synId_A}^*\synHIso(p_{p_A^*A}^*B,q(p_A,A)^*B)) \cdot \syn{id}^{\syn{HIso}}_B \big)
\end{multline*}

Given this, define the predicate ``$B$ is a univalent family over $A$'' as:
\begin{multline*}
 (\Gamma,\syn{isUvt}(A,B)) := \\
  \big(\Gamma,\synPi\big(A,\synPi\big(p_A^*A,\lambda((1_{\synId_A},w_{A,B}))^*\synisHIso_{\synId_A,\synHIso(p_{p_A^*A}^*B,q(p_A,A)^*B)}\big)\big)\big).
\end{multline*}
\end{definition}

\begin{definition}
Given a universe $(\synU,\el)$ in $\CC$, say $(\synU,\el)$ \emph{satisfies the Univalence Axiom} if $\CC$ is equipped with a map $\syn{uvt}_{\synU,\el} \colon 1 \to \syn{isUvt}(\synU,\el)$.
\end{definition}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "simplicial-model"
%%% End: 
