\usepackage[T1]{fontenc}
\usepackage[ansinew]{inputenc}
   
   %% Some recommended packages.
\usepackage{booktabs}   %% For formal tables:
                        %% http://ctan.org/pkg/booktabs
\usepackage{subcaption} %% For complex figures with subfigures/subcaptions
                        %%% http://ctan.org/pkg/subcaption
%\captionsetup[figure]{font={small},skip=0.6\baselineskip, labelsep=period}
\usepackage{paralist}
\usepackage{enumitem}

\usepackage{xstring}

% Training subcaption package to comply with
% IEEE standards. We can ignore the warning
% generated by caption.sty which is due to
% the redefinition of \@makecaption
%\DeclareCaptionLabelSeparator{periodspace}{.\quad}
%\captionsetup{font=footnotesize,singlelinecheck=false}
%\captionsetup[sub]{font=footnotesize,singlelinecheck=true}
%\renewcommand\thesubfigure{(\alph{subfigure})}

\usepackage[capitalise]{cleveref}
\usepackage{relsize}
\usepackage{siunitx}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{fontawesome5}
\usepackage{lipsum}
\usepackage{listings}
\usepackage{microtype}
\usepackage{pifont}
\usepackage[all]{nowidow}

\setlipsum{%
  par-before = \begingroup\color{red},
  par-after = \endgroup
}

\usetikzlibrary{arrows}
\usetikzlibrary{chains}
\usetikzlibrary{calc}
\usetikzlibrary{trees}
\usetikzlibrary{fit}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{quotes}
\usetikzlibrary{shapes}
\usetikzlibrary{patterns, patterns.meta}
\usetikzlibrary{decorations, decorations.pathmorphing, decorations.pathreplacing}
\usetikzlibrary{pgfplots.groupplots}
\usetikzlibrary{shapes.geometric, shapes.symbols}

% JD: These cause an error, if needed, resolve the latex build error please.
%\usepackage{algorithm,algpseudocode}
% We will externalize the figures
%\usepgfplotslibrary{external}
%\tikzexternalize


\pgfplotsset{compat=newest}%

\definecolor{col0o}{RGB}{0,146,146}
\colorlet{col0}{col0o!80}
\definecolor{col1o}{RGB}{182,109,255}
\colorlet{col1}{col1o!70}
\definecolor{col2}{RGB}{219,209,0}
\definecolor{col3}{RGB}{255,182,119}
\definecolor{col8}{RGB}{182,255,219}
\definecolor{col5}{RGB}{36,255,36}
\definecolor{col6}{RGB}{182,219,255}
\definecolor{col7}{RGB}{255,109,182}
\definecolor{col18}{RGB}{255,255,109}
\definecolor{col9}{RGB}{73,0,146}
\definecolor{col10}{RGB}{146,73,0}
\definecolor{col11}{RGB}{146,0,0}
\definecolor{col12}{RGB}{0,109,219}
\definecolor{col13}{RGB}{0,73,73}
\definecolor{col14}{RGB}{73,0,73}
\definecolor{col15}{RGB}{73,73,0}
\definecolor{col16o}{RGB}{255,36,36}
\colorlet{col16}{col16o!80}
\definecolor{col17o}{RGB}{36,36,255}
\colorlet{col17}{col17o!50}
\definecolor{col4}{RGB}{255,182,219}
\definecolor{col19}{RGB}{109,182,255}
\colorlet{commentcolor}{black!80}

\pgfplotscreateplotcyclelist{mycolorlist}{%
fill=col0\\%
fill=col1\\%
fill=col2\\%
fill=col11\\%
fill=col4\\%
fill=col13\\%
%fill=col6\\%
fill=col7\\%
fill=col12\\%
fill=col9\\%
fill=col10\\%
fill=col3\\%
%fill=col8\\%
fill=col5\\%
fill=col14\\%
fill=col15\\%
fill=col16\\%
fill=col17\\%
}
\colorlet{commentcolor}{black!80}
\colorlet{pragmacolor}{col10}

\input{figures/tikz_config}

\lstset{
  basicstyle=\small\lst@ifdisplaystyle\linespread{0.94}\fi\ttfamily,
  columns=fullflexible,
  %xleftmargin=-1mm,
  language=C++,
  breaklines=true,
  keywordstyle=\lst@ifdisplaystyle\color{col9}\fi,
  keywordstyle=[2]\lst@ifdisplaystyle\color{col12}\fi,
  keywordstyle=[3]\lst@ifdisplaystyle\color{col13}\fi,
  keywordstyle=[4]\lst@ifdisplaystyle\color{col16}\fi,
  keywordstyle=[5]\lst@ifdisplaystyle\color{col3!50!black}\fi,
  commentstyle=\color{commentcolor},
  morecomment=[l][\color{pragmacolor}]{\#},
  stringstyle=\color{red!60!black},
  escapeinside={(*@}{@*)},
  morekeywords={decltype,uint32_t,int32_t,uint64_t,int64_t,uint8_t,int8_t,constexpr,__global__, __device__},
  morekeywords=[2]{__nvvm_atom_inc_gen_ui, __ATOMIC_SEQ_CST, __builtin_amdgcn_atomic_inc32, __builtin_assume, RPCArgInfo, RPCInfo},
  morekeywords=[3]{omp_get_thread_num,omp_get_num_threads,omp_get_team_size, aligned_barrier, use, synchronize, atomic_inc, get_thread_id, read, write, readwrite},
  morekeywords=[4]{assume_teams_over_subscription, assume_threads_over_subscription, TeamICVState, SHARED},
  morekeywords=[5]{tid, use, state, value, fscanf},
%  morecomment=[s][\color{commentcolor}]{ompx}{(},
  %keywordsprefix={__},
  %identifierstyle=\lst@ifdisplaystyle\itshape\fi,
  %literalstyle=\lst@ifdisplaystyle\color{col0}\fi,
  showstringspaces=false,
}
%\newcommand{\inlinecode}[2][]{{\small{}#2\lstinline[breaklines=true]{#1}}}
\newcommand{\inlinecode}[2][]{\texttt{{\small{}#2\detokenize{#1}}}}
\newcommand{\llvmkeyword}[2][]{\inlinecode[#2]{#1}}
\newcommand{\llvminline}[2][]{\inlinecode[#2]{#1}}
\newcommand{\cppkeyword}[2][]{\inlinecode[#2]{#1}}
\newcommand{\cppinline}[2][]{\inlinecode[#2]{#1}}

%
%%% Always I forget this so I created some aliases
\def\ContinueLineNumber{\lstset{firstnumber=last}}
\def\StartLineAt#1{\lstset{firstnumber=#1}}
\let\numberLineAt\StartLineAt

\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000
