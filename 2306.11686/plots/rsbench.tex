\begin{tikzpicture}
\begin{axis}[
    extra y ticks={1},
    extra y tick labels={CPU},
%    ylabel style = {align=center,at={(1.15,0.5)},text width=4cm},
    ymin=0.0, ymax=11,
    name nodes near coords/.default=coordnode,
    bar width=0.10,
    name nodes near coords/.style={
      every node near coord/.append style={
        shift={(axis direction cs:0, -\ycoord)},
        name=#1-\coordindex,
        alias=#1-last,
        %rotate=90,
        %anchor=west,
        rotate=0,
        anchor=south,
        align=center,
        /pgf/number format/fixed,
      },
    },
]

\addplot+[
  name nodes near coords=offloadEventSmall,
  col3, postaction={pattern color=gray, pattern=crosshatch},
%  error bars/.cd,y dir=both,y explicit, error bar style={color=black,ultra thick},
 ] 
coordinates {
  (0, 6.090)
  };
%\addlegendentry{Offload (event)}

\addplot+[
  name nodes near coords=gpuFirstEventSmall,
  col4, postaction={pattern color=gray, pattern=north east lines},
]
coordinates {
  (0, 8.976)
  };
%\addlegendentry{GPU First (event)}

\addplot+[
  name nodes near coords=missing1,
  white,
]
coordinates {
(0,0)
  };


\addplot+[
%  xshift=2mm,
  name nodes near coords=gpuFirstHistorySmall,
  col8, postaction={pattern color=gray, pattern=vertical lines},
]
coordinates {
  (0, 9.0669)
  };
%\addlegendentry{GPU First (history)}

\addplot+[
]
coordinates {
  };

\addplot+[
  name nodes near coords=offloadEventLarge,
  col10!40, postaction={pattern color=gray, pattern=crosshatch},
]
coordinates {
  (0, 4.5159)
  };
%\addlegendentry{Offload (event)}

\addplot+[
  name nodes near coords=gpuFirstEventLarge,
  col11!40, postaction={pattern color=gray, pattern=north east lines},
]
coordinates {
  (0, 4.6102)
  };
%\addlegendentry{GPU First (event)}

\addplot+[
  name nodes near coords=missing2,
  white,
]
coordinates {
(0,0)
  };

\addplot+[
%  xshift=2mm,
  name nodes near coords=gpuFirstHistory,
  col13!40, postaction={pattern color=gray, pattern=vertical lines},
]
coordinates {
  (0, 4.6277)
  };
%\addlegendentry{GPU First (history)}



\addplot[black!70,dotted,thick,sharp plot,nodes near coords={},
update limits=false,shorten >=-3mm,shorten <=-3mm]
coordinates {(-1,1) (1,1)};
\addplot[black!70,dashed,thick,sharp plot,nodes near coords={},
update limits=false,shorten >=-3mm,shorten <=-3mm]
coordinates {(0,0) (0,18)};
\node[] (top) at (axis description cs:1,1) {};
\node[anchor=north] (small) at (axis description cs:0.24,1) {small};
\node[anchor=north] (large) at (axis description cs:0.76,1) {large};


\end{axis}

\node[rotate=90,anchor=west,fill=white] (test) at ($(missing1-0) + (0,0.32)$) {no offload history};
\node[rotate=90,anchor=west,fill=white] (test) at ($(missing2-0) + (0,0.32)$) {no offload history};

\end{tikzpicture}

