
\newcommand{\timebar}[8]{
\draw[fill=#5] ( 0, 0) node (#4-1bottom) {} rectangle (#1, 1) node (#4-1top) {};
\draw[fill=#6] (#1, 0) node (#4-2bottom) {} rectangle (#2, 1) node (#4-2top) {};
\draw[fill=#7] (#2, 0) node (#4-3bottom) {} rectangle (#3, 1) node (#4-3top) {};
\ifnum10>0#3\relax
\draw[fill=#8] (#3, 0) node (#4-4bottom) {}  rectangle (10, 1) node (#4-4top) {};
\fi
}

\begin{tikzpicture}

\timebar{0.01118569379}{0.917913822}{9.819808828}{dev}{col1!30}{col2!30}{col3!30}{col4!30}
\node[rotate=90, anchor=south] at (0,0.5) {device};

\tikzset{shift={(0,-2)}}

\timebar{0.000431613533}{0.355022151501}{0.542755359371}{host}{col5!30}{col6!30}{col7!30}{col8!30}
\node[rotate=90, anchor=south] at (0,0.5) {host};

%\draw[->] (dev-2) -- (host-1);
\draw[ultra thick, ->] (dev-3bottom) -- (host-1top);
\draw[ultra thick, ->] (dev-4bottom) -- (host-4top);


\end{tikzpicture}

