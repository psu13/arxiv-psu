\section{Left Fibrations}\label{leftfibsec}
 
\setcounter{theorem}{0}
 
 
In this section, we will study the class of {\em left fibrations} between simplicial sets. We begin
in \S \ref{scgp} with a review of some classical category theory: namely, the theory of categories cofibered in groupoids (over another category). We will see that the theory of left fibrations is a natural $\infty$-categorical generalization of this idea. 
In \S \ref{leftfib} we will show that the class of left fibrations is stable under various important constructions, such as the formation of slice $\infty$-categories.

It follows immediately from the definition that every Kan fibration of simplicial sets is a left fibration. The converse is false in general. However, it is possible to give a relatively simple criterion for
testing whether or not a left fibration $f: X \rightarrow S$ is a Kan fibration. We will establish this criterion in \S \ref{crit} and deduce some of its consequences.

The classical theory of Kan fibrations has a natural interpretation in the language of model categories: a map $p: X \rightarrow S$ is a Kan fibration if and only if $X$ is a fibrant object
of $(\sSet)_{/S}$, where the category $(\sSet)_{/S}$ is equipped with its usual model structure. There is a similar characterization of left fibrations: a map $p: X \rightarrow S$ is a left fibration if and only if $X$ is a fibrant object of $(\sSet)_{/S}$ with respect to certain model structure, which
we will refer to as the {\it covariant model structure}. We will define the covariant model structure in \S \ref{contrasec}, and give an overview of its basic properties. 

\subsection{Left Fibrations in Classical Category Theory}\label{scgp}

Before beginning our study of left fibrations, let us recall a bit of classical
category theory. Let $\calD$ be a small category, and suppose we are given a functor $$ \chi: \calD \rightarrow \Gpd,$$
where $\Gpd$ denotes the category of groupoids (where the morphisms are
given by functors). Using the functor $\chi$, we can extract a new category
$\calC_{\chi}$ via the classical {\it Grothendieck construction}: 

\begin{itemize}
\item The objects of $\calC_{\chi}$ are pairs $(D, \eta)$, where $D \in \calD$
and $\eta$ is an object of the groupoid $\chi(D)$.
\item Given a pair of objects $(D, \eta), (D', \eta') \in \calC_{\chi}$, a
morphism from $(D, \eta)$ to $(D', \eta')$ in $\calC_{\chi}$ is given by
a pair $(f, \alpha)$, where $f: D \rightarrow D'$ is a morphism in 
$\calD$, and $\alpha: \chi(f)(\eta) \simeq \eta'$ is an isomorphism in the groupoid $\chi(D')$.
\item Composition of morphisms is defined in the obvious way.
\end{itemize}

There is an evident forgetful functor $F: \calC_{\chi} \rightarrow \calD$, which
carries an object $(D, \eta) \in \calC_{\chi}$ to the underlying object $D \in \calD$.
Moreover, it is possible to reconstruct $\chi$ from the category $\calC_{\chi}$
(together with the forgetful functor $F$), at least up to equivalence; for example, if $D$ is an object of $\calD$, then the groupoid $\chi(D)$ is canonically equivalent to the fiber product $\calC_{\chi} \times_{\calD} \{D\}$. Consequently, the Grothendieck construction sets up a dictionary which relates 
functors $\chi: \calD \rightarrow \Gpd$ with categories $\calC_{\chi}$ admitting a functor $F: \calC_{\chi} \rightarrow \calD$. However, this dictionary is not perfect; not every functor $F: \calC \rightarrow \calD$ arises via the Grothendieck construction described above. To clarify the situation, we recall the following definition:

\begin{definition}\label{latelate}\index{gen}{category!cofibered in groupoids}
Let $F: \calC \rightarrow \calD$ be a functor between categories. We say that
{\it $\calC$ is cofibered in groupoids over $\calD$} if the following conditions are satisfied:
\begin{itemize}
\item[$(1)$] For every object $C \in \calC$ and every morphism
$\eta: F(C) \rightarrow D$ in $\calD$, there exists a morphism
$\widetilde{\eta}: C \rightarrow \widetilde{D}$ such that $F(\widetilde{\eta}) = \eta$.
\item[$(2)$] For every morphism $\eta: C \rightarrow C'$ in $\calC$ and every
object $C'' \in \calC$, the map
$$ \Hom_{\calC}(C',C'') \rightarrow \Hom_{\calC}(C,C'') \times_{ \Hom_{\calD}(F(C), F(C'')) } \Hom_{\calD}(F(C'), F(C''))$$ is bijective.
\end{itemize}
\end{definition}

\begin{example}\label{cik}
Let $\chi: \calD \rightarrow \Gpd$ be a functor from a category $\calD$
to the category of groupoids. Then the forgetful functor $\calC_{\chi} \rightarrow \calD$ exhibits $\calC_{\chi}$ as fibered in groupoids over $\calD$.
\end{example}

Example \ref{cik} admits a converse: suppose we begin with a category
$\calC$ fibered in groupoids over $\calD$. Then, for every 
every object $D \in \calD$, the fiber $\calC_{D} = \calC \times_{\calD} \{D\}$ is a
groupoid. Moreover, for every morphism $f: D \rightarrow D'$ in $\calD$, it
is possible to construct a functor $f_{!}: \calC_{D} \rightarrow \calC_{D'}$
as follows: for each $C \in \calC_{D}$, choose a morphism $\overline{f}: C \rightarrow C'$ covering the map $D \rightarrow D'$, and set $f_{!}(C) = C'$. The map $\overline{f}$ may not be uniquely determined, but it is unique up to isomorphism and depends functorially on $C$. Consequently, we obtain a
functor $f_{!}$, which is well-defined up to isomorphism. We can then
try to define a functor $\chi: \calD \rightarrow \Gpd$ by the formulas
$$ D \mapsto \calC_{D}$$
$$ f \mapsto f_{!}.$$
Unfortunately, this does not quite work: since the functor $f_{!}$ is determined only up to canonical isomorphism by $f$, the identity $(f \circ g)_{!} = f_{!} \circ g_{!}$
holds only up to canonical isomorphism, rather than up to equality. This is merely a technical inconvenience; it can be addressed in (at least) two ways:
\begin{itemize}
\item The groupoid $\chi(D) = \calC \times_{\calD} \{D\}$ can be described as the category of functors $G$ fitting into a commutative diagram
$$ \xymatrix{ & \calC \ar[d]^{F} \\
\{D\} \ar@{-->}[ur]^{G} \ar[r] & \calD. }$$
If we replace the one point category $\{D\}$ with the overcategory $\calD_{D/}$ in this definition, then we obtain a groupoid equivalent to $\chi(D)$ which
depends on $D$ in a strictly functorial fashion.
\item Without modifying the definition of $\chi(D)$, we can realize
$\chi$ as a functor from $\calD$ to an appropriate {\it bicategory} of groupoids.
\end{itemize}

We may summarize the above discussion informally by saying that the Grothendieck construction establishes an equivalence between functors
$\chi: \calD \rightarrow \Gpd$ and categories fibered in groupoids over $\calD$.

The theory of left fibrations should be regarded as an $\infty$-categorical generalization of Definition \ref{latelate}. As a preliminary piece of evidence for this assertion, we offer the following:

\begin{proposition}\label{stinkyer}
Let $F: \calC \rightarrow \calD$ be a functor between categories. Then $\calC$ is cofibered in groupoids over $\calD$ if and only if the induced map $\Nerve(F): \Nerve(\calC) \rightarrow \Nerve(\calD)$ is a left fibration of simplicial sets.
\end{proposition}

\begin{proof}
Proposition \ref{ruko} implies that $\Nerve(F)$ is an inner fibration. It follows that
$\Nerve(F)$ is a left fibration if and only if it has the right lifting property with respect to
$\Lambda^n_0 \subseteq \Delta^n$ for all $n > 0$. When $n = 1$, the relevant lifting property is equivalent to $(1)$ of Definition \ref{latelate}. When $n=2$ ($n=3$) the relevant lifting property is
equivalent to the surjectivity (injectivity) of the map described in $(2)$. For $n > 3$, the relevant lifting property is automatic (since a map $\Lambda^n_0 \rightarrow S$ extends {\em uniquely} to $\Delta^n$ when $S$ is isomorphic to the nerve of a category). 
\end{proof}

Let us now consider the structure of a general left fibration $p: X \rightarrow S$.
In the case where $S$ consists of a single vertex, Proposition \ref{greenwich} asserts that $p$ is a left fibration if and only if $X$ is a Kan complex. Since the class of left fibrations is stable under pullback, we deduce that for {\em any} left fibration $p: X \rightarrow S$ and any vertex $s$ of $S$, the fiber $X_{s} = X \times_S \{s\}$ is a Kan complex (which we can think of as the $\infty$-categorical analogue of a groupoid). Moreover, these Kan complexes are related to one another. More precisely, suppose that $f: s \rightarrow s'$ is an edge of the simplicial set $S$ and consider the inclusion
$i: X_s \simeq X_s \times \{0\} \subseteq X_s
\times \Delta^{1}$. In \S \ref{leftfib}, we will prove that $i$ is left anodyne (Corollary \ref{prodprod1}). 
It follows that we can solve the lifting problem
$$ \xymatrix{ \{0 \} \times X_{s} \ar@{^{(}->}[d] \ar@{^{(}->}[rr] & & X \ar[d]^{p} \\
\Delta^1 \times X_{s} \ar@{-->}[urr] \ar[r] & \Delta^1 \ar[r]^{f} & S.}$$
Restricting the dotted arrow to $\{1\} \times X_{s}$, we obtain a map
$f_{!}: X_{s} \rightarrow X_{s'}$. Of course, $f_{!}$ is not unique, but it is uniquely determined
up to homotopy.\index{not}{f!@$f_{!}$}

\begin{lemma}\label{functy}
Let $q: X \rightarrow S$ be a left fibration of simplicial sets. The assignment
$$s \in S_0 \mapsto X_{s} $$
$$ f \in S_1 \mapsto f_{!} $$
determines a (covariant) functor from the homotopy category $\h{S}$ into the homotopy category $\calH$ of spaces.
\end{lemma}

\begin{proof}
Let $f: s \rightarrow s'$ be an edge of $S$.
We note the following characterization of the morphism $f_{!}$ in $\calH$. Let $K$ be any simplicial set, and suppose given homotopy classes of maps $\eta \in \Hom_{\calH}(K,X_{s})$, $\eta' \in \Hom_{\calH}(K,X_{s'})$. Then
$\eta' = f_{!} \circ \eta$ if and only if there exists a map $p: K \times \Delta^1 \rightarrow X$ such that
$q \circ p$ is given by the composition $$K \times \Delta^1 \rightarrow \Delta^1 \stackrel{f}{\rightarrow} S,$$
$\eta$ is the homotopy class of $p | K \times \{0\}$, and $\eta'$ is the homotopy class of $p| K \times \{1\}$. 

Now consider any $2$-simplex $\sigma: \Delta^2 \rightarrow S$, which we will depict as
$$ \xymatrix{ & v \ar[dr]^{g} & \\
u \ar[ur]^{f} \ar[rr]^{h} & & w. }$$
We note that the inclusion
$X_{ u } \times \{0\} \subseteq X_{ u } \times \Delta^2$ is left-anodyne 
(Corollary \ref{prodprod1}). Consequently there exists a map $p: X_{ u } \times \Delta^2 \rightarrow X$ such that $p| X_{u} \times \{0\}$ is the inclusion $X_{ u } \subseteq X$ and $q \circ p$ is the composition
$ X_{ u } \times \Delta^2 \rightarrow \Delta^2 \stackrel{\sigma}{\rightarrow} S$. 
Then $f_{!} \simeq p| X_{ u } \times \{1\}$, $h_{!} = p| X_{u} \times \{2 \}$, and the map $p | X_{ u } \times \Delta^{ \{1,2\} }$ verifies the equation
$$ h_{!} = g_{!} \circ f_{!}$$ in $\Hom_{\calH}( X_{u}, X_{ w })$.
\end{proof}

We can summarize the situation informally as follows. Fix a simplicial set $S$. To give a left fibration $q: X \rightarrow S$, one must specify a Kan complex $X_{s}$ for each ``object'' of $S$, a map
$f_{!}: X_{s} \rightarrow X_{s'}$ for each ``morphism'' $f: s \rightarrow s'$ of $S$, and ``coherence data'' for these morphisms for each higher-dimensional simplex of $S$. In other words, giving a left fibration ought to be more or less the same thing as giving a functor from $S$ to the $\infty$-category $\SSet$ of spaces.
Lemma \ref{functy} can be regarded as a weak version of this assertion; we will prove something considerably more precise in \S \ref{contrasec} (see Theorem \ref{struns}). 

We close this section by establishing two simple properties of left fibrations, which will be neededŒ in the proof of Proposition \ref{greenlem}:

\begin{proposition}\label{hamb1}
Let $p: \calC \rightarrow \calD$ be a left fibration of $\infty$-categories, and let
$f: X \rightarrow Y$ be a morphism in $\calC$ such that $p(f)$ is an equivalence in
$\calD$. Then $f$ is an equivalence in $\calC$.
\end{proposition}

\begin{proof}
Let $\overline{g}$ be a homotopy inverse to $p(f)$ in $\calD$, so that
there exists a $2$-simplex of $\calD$ depicted as follows:
$$ \xymatrix{ & p(Y) \ar[dr]^{\overline{g}} & \\
p(X) \ar[ur]^{p(f)} \ar[rr]^{\id_{p(X)}} & & p(X). }$$
Since $p$ is a left fibration, we can lift this to a diagram
$$ \xymatrix{ & Y \ar[dr]^{g} & \\
X \ar[ur]^{f} \ar[rr]^{\id_{X}} & & X }$$
in $\calC$. It follows that $g \circ f \simeq \id_{X}$, so that $f$ admits a left homotopy inverse.
Since $p(g) = \overline{g}$ is an equivalence in $\calD$, the same argument proves that
$g$ has a left homotopy inverse. This left homotopy inverse must coincide with $f$, since $f$ is a right homotopy inverse to $g$. Thus $f$ and $g$ are homotopy inverse in the $\infty$-category $\calC$, so that $f$ is an equivalence as desired.
\end{proof}

\begin{proposition}\label{hamb2}
Let $p: \calC \rightarrow \calD$ be a left fibration of $\infty$-categories, let
$Y$ be an object of $\calC$, and let
$\overline{f}: \overline{X} \rightarrow p(Y)$ be an equivalence in $\calD$. Then
there exists a morphism $f: X \rightarrow Y$ in $\calC$ such that $p(f) = \overline{f}$
(automatically an equivalence, in view of Proposition \ref{hamb1}). 
\end{proposition}

\begin{proof}
Let $\overline{g}: p(Y) \rightarrow \overline{X}$ be a homotopy inverse to $\overline{f}$
in $\calC$. Since $p$ is a left fibration, there exists a morphism
$g: Y \rightarrow X$ such that $\overline{g} = p(g)$. Since $\overline{f}$ and $\overline{g}$
are homotopy inverse to one another, there exists a $2$-simplex of $\calD$ which we can depict as follows:
$$ \xymatrix{ & p(X) \ar[dr]^{\overline{f}} & \\
p(Y) \ar[ur]^{ p(g) } \ar[rr]^{ \id_{p(Y)} } & & p(Y). }$$
Applying the assumption that $p$ is a left fibration once more, we can lift this to a diagram
$$ \xymatrix{ & X \ar[dr]^{f} & \\
Y \ar[ur]^{g} \ar[rr]^{\id_{Y}} & & Y, }$$
which proves the existence of $f$.
\end{proof}

\subsection{Stability Properties of Left Fibrations}\label{leftfib}

The purpose of this section is to show that left fibrations of simplicial sets exist in abundance. Our main results are Proposition \ref{sharpen} (which is our basic source of examples for left fibrations) and Corollary \ref{ichy} (which asserts that left fibrations are stable under the formation of functor categories). 

Let $\calC$ be an $\infty$-category, and let $\SSet$ denote the $\infty$-category of spaces.
One can think of a functor from $\calC$ to $\SSet$ as a ``cosheaf of spaces'' on $\calC$. By analogy with ordinary category theory, one might expect that the basic example of such a cosheaf would be the cosheaf corepresented by an object $C$ of $\calC$; roughly speaking this should be given by the functor
$$ D \mapsto \bHom_{\calC}(C,D).$$ 
As we saw in \S \ref{scgp}, it is natural to guess that such a functor can be encoded 
by a left fibration $\widetilde{\calC} \rightarrow \calC$. There is a natural candidate
for $\widetilde{\calC}$: the undercategory $\calC_{C/}$. 
Note that the fiber of the map
$$ f: \calC_{C/} \rightarrow \calC$$ over the object $D \in \calC$ is the Kan complex $\Hom_{\calC}^{\lft}(C,D)$. The assertion that $f$ is a left fibration is a consequence of the following more general result:


\begin{proposition}[Joyal]\label{sharpen}
Suppose given a diagram of simplicial sets
$$ K_0 \subseteq K \stackrel{p}{\rightarrow} X \stackrel{q}{\rightarrow} S$$
where $q$ is an inner fibration. Let $r = q \circ p: K \rightarrow S$,
$p_0 = p|K_0$, and $r_0 = r|K_0$. Then the induced map
$$ X_{p/} \rightarrow X_{p_0/} \times_{ S_{r_0/} } S_{r/}$$
is a left fibration. If the map $q$ is already a left fibration, then
the induced map
$$ X_{/p} \rightarrow X_{/ p_0} \times_{ S_{/r_0} } S_{/r}$$
is a left fibration as well.
\end{proposition}

Proposition \ref{sharpen} immediately implies the following half of
Proposition \ref{gorban3}, which we asserted earlier without proof:

\begin{corollary}[Joyal]\label{gorban4}\index{gen}{left fibration!and undercategories}
Let $\calC$ be an $\infty$-category and $p: K \rightarrow \calC$ an arbitrary diagram.
Then the projection $\calC_{p/} \rightarrow \calC$ is a left fibration. In particular, $\calC_{p/}$ is itself an $\infty$-category.
\end{corollary}

\begin{proof}
Apply Proposition \ref{sharpen} in the case where $X = \calC$, $S = \ast$, $A = \emptyset$, $B = K$.
\end{proof}

We can also use Proposition \ref{sharpen} to prove Proposition \ref{greenlem}, 
which was stated without proof in \S \ref{obmor}.

\begin{proposition2}
Let $\calC$ be an $\infty$-category, and $\phi: \Delta^1 \rightarrow \calC$ a morphism of $\calC$. Then $\phi$ is an equivalence if and only if, for every $n \geq 2$ and every map
$f_0: \Lambda^n_0 \rightarrow \calC$ such that $f_0 | \Delta^{\{0,1\}} = \phi$,
there exists an extension of $f_0$ to $\Delta^n$.
\end{proposition2}

\begin{proof}
Suppose first that $\phi$ is an equivalence, and let $f_0$ be as above. To find the desired extension of $f_0$, we must produce the dotted arrow in the associated diagram
$$ \xymatrix{ \{ 0 \} \ar@{^{(}->}[d] \ar[r] & \calC_{/ \Delta^{n-2} } \ar[d]^{q} \\
\Delta^1 \ar[r]^{\phi'} \ar@{-->}[ur] & \calC_{/ \bd \Delta^{n-2} }. }$$  
The projection map $p: \calC_{/ \bd \Delta^{n-2} } \rightarrow \calC$ is a right fibration (Proposition \ref{sharpen}). Since $\phi'$ is a preimage of $\phi$ under $p$, Proposition \ref{hamb1} implies that $\phi'$ is an equivalence. Because $q$ is a right fibration (Proposition \ref{sharpen} again), 
the existence of the dotted arrow follows from Proposition \ref{hamb2}.

We now prove the converse. Let $\phi: X \rightarrow Y$ be a morphism in $\calC$,
and consider the map $\Lambda^2_0 \rightarrow \calC$ indicated in the following diagram:
$$ \xymatrix{ & Y \ar@{-->}[dr]^{\psi} & \\
X \ar[ur]^{\phi} \ar[rr]^{\id_{X}} & & X. }$$
The assumed extension property ensures the existence of the dotted morphism
$\psi: Y \rightarrow X$ and a $2$-simplex $\sigma$ which verifies the identity
$\psi \circ \phi \simeq \id_{X}$. We now consider the map
$$ \tau_0: \Lambda^3_0 \stackrel{ ( \bigdot, s_0 \phi, s_1 \psi, \sigma) } \longrightarrow \calC.$$
Once again, our assumption allows us to extend $\tau_0$ to a $3$-simplex
$\tau: \Delta^3 \rightarrow \calC$, and the face $d_0 \tau$ verifies the identity
$\phi \circ \psi = \id_{Y}$. It follows that $\psi$ is a homotopy inverse to $\phi$, so that
$\phi$ is an equivalence in $\calC$.
\end{proof}

We now turn to the proof of Proposition \ref{sharpen}. It is an easy consequence of the following more basic observation:

\begin{lemma}[Joyal \cite{joyalnotpub}]\label{precough}
Let $f: A_0 \subseteq A$ and $g: B_0 \subseteq B$ be inclusions of simplicial sets.
Suppose either that $f$ is right anodyne, or that $g$ is left anodyne. Then the induced inclusion
$$ h: (A_0 \star B) \coprod_{ A_0 \star B_0 } (A \star B_0) \subseteq A \star B$$
is inner anodyne.
\end{lemma}

\begin{proof}
We will prove that $h$ is inner anodyne whenever $f$ is right anodyne; the other assertion follows by a dual argument. 

Consider the class of {\em all} morphisms $f$ for which the conclusion of the lemma holds (for any inclusion $g$). This class of morphisms is weakly saturated; to prove that it contains all right-anodyne morphisms, it suffices to show that it contains each of the inclusions
$f: \Lambda^n_{j} \subseteq \Delta^n$ for $0 < j \leq n$. We may therefore assume that $f$ is of this form.

Now consider the collection of all inclusions $g$ for which $h$ is inner anodyne (where $f$ is now fixed). This class of morphisms is also weakly saturated; to prove that it contains all inclusions, it suffices to show that the lemma holds when $g$ is of the form $\bd \Delta^m \subseteq \Delta^m$. In this case, $h$ can be identified with the inclusion $\Lambda^{n+m+1}_j \subseteq \Delta^{n+m+1}$, which is inner anodyne because $0 < j \leq n < n+m+1$.
\end{proof}

The following result can be proven by exactly the same argument:

\begin{lemma}[Joyal]\label{purcough}
Let $f: A_0 \rightarrow A$ and $g: B_0 \rightarrow B$ be inclusions of simplicial sets.
Suppose that $f$ is left anodyne. Then the induced inclusion
$$ (A_0 \star B) \coprod_{ A_0 \star B_0 } (A \star B_0) \subseteq A \star B$$
is left anodyne.
\end{lemma}

\begin{proof}[Proof of Proposition \ref{sharpen}]
After unwinding the definitions, the first assertion follows from Lemma \ref{precough} and the second from Lemma \ref{purcough}.
\end{proof}

For future reference, we record the following counterpart to Proposition \ref{sharpen}:

\begin{proposition}[Joyal]\label{sharpen2}
Let $\pi: S \rightarrow T$ be an inner fibration, $p: B \rightarrow S$ a map of simplicial sets,
$i: A \subseteq B$ an inclusion of simplicial sets, $p_0 = p | A$, $p' = \pi \circ p$, and $p'_0 = \pi \circ p_0 = p'|A$. Suppose that either $i$ is right anodyne, or $\pi$ is a left fibration. 
Then the induced map
$$ \phi: S_{p/} \rightarrow S_{p_0/} \times_{ T_{p'_0/}} T_{p'/}$$ is a trivial Kan fibration.
\end{proposition}

\begin{proof}
Consider the class of all cofibrations $i: A \rightarrow B$ for which $\phi$ is a trivial fibration for {\em every} inner fibration (right fibration) $p: S \rightarrow T$. It is not difficult to see that this is a weakly saturated class of morphisms; thus, it suffices to consider the case where $A = \Lambda^m_i$, $B = \Delta^m$, for $0 < i \leq m$ ($0 \leq i \leq m$).

Let $q: \bd \Delta^n \rightarrow S_{p/}$ be a map, and suppose given an extension of
$\phi \circ q$ to $\Delta^n$. We wish to find a compatible extension of $q$. Unwinding the definitions, we are given a map
$$ r: (\Delta^m \star \bd \Delta^n) \coprod_{\Lambda^m_i \star \bd \Delta^n} ( \Lambda^m_i \star \Delta^n) 
\rightarrow S$$ which we wish to extend to $\Delta^m \star \Delta^n$ in a manner that is compatible
with a given extension $\Delta^m \star \Delta^n \rightarrow T$ of the composite map $\pi \circ r$. 
The existence of such an extension follows immediately from the assumption that $p$ has the right lifting property with respect to the horn inclusion $\Lambda^{n+m+1}_i \subseteq \Delta^{n+m+1}$.
\end{proof}

The remainder of this section is devoted to the study of the behavior of left fibrations under exponentiation. Our goal is to prove an assertion of the following form: if $p: X \rightarrow S$ is a left fibration of simplicial sets, then so is the induced map $X^{K} \rightarrow S^{K}$, for every simplicial set $K$ (this is a special case of Corollary \ref{ichy} below). This is an easy consequence of the following characterization of left anodyne maps, which is due to Joyal:

\begin{proposition}[Joyal \cite{joyalnotpub}]\label{usejoyal}\index{gen}{left anodyne}\index{gen}{anodyne!left}
The following collections  of morphisms generate the same weakly saturated class of morphisms
of $\sSet$:
\begin{itemize}
\item[$(1)$] The collection $A_1$ of all horn inclusions $\Lambda^n_i
\subseteq \Delta^n$, $0 \leq i < n$.

\item[$(2)$] The collection $A_2$ of all inclusions $$(\Delta^m \times
\{0\}) \coprod_{ \bd \Delta^m \times \{0\} } (\bd \Delta^m \times
\Delta^1) \subseteq \Delta^m \times \Delta^1.$$

\item[$(3)$] The collection $A_3$ of all inclusions $$(S' \times \{0\})
\coprod_{S \times \{0\} } (S \times \Delta^1) \subseteq S' \times
\Delta^1,$$ where $S \subseteq S'$.

\end{itemize}
\end{proposition}

\begin{proof}
Let $S \subseteq S'$ be as in $(3)$. Working cell-by-cell on $S'$,
we deduce that every morphism in $A_3$ can be obtained as an
iterated pushout of morphisms belonging to $A_2$. Conversely,
$A_2$ is contained in $A_3$, which proves that they generate the
same weakly saturated collection of morphisms.

To proceed with the proof, we must first introduce a bit of
notation. The $(n+1)$-simplices of $\Delta^n \times \Delta^1$ are
indexed by order-preserving maps
$$ [n+1] \rightarrow [0, \ldots, n] \times
[0,1].$$ We let $\sigma_k$ denote the map
$$\sigma_k(m) =
\begin{cases} (m,0) & \text{if } m \leq k \\
(m-1,1) & \text{if } m > k. \end{cases}$$ We will also denote by $\sigma_k$
the corresponding $(n+1)$-simplex of $\Delta^n \times
\Delta^1$. We note that $\{ \sigma_k \}_{ 0 \leq k \leq n }$ are
precisely the nondegenerate $(n+1)$-simplices of $\Delta^n \times
\Delta^1$.

We define a collection $\{ X(k) \}_{ 0 \leq k \leq n+1 }$ of
simplicial subsets of $\Delta^n \times \Delta^1$ by descending
induction on $k$. We begin by setting
$$X(n+1) = (\Delta^n \times \{0\}) \coprod_{ \bd \Delta^n \times \{0\} } (\bd
\Delta^n \times \Delta^1).$$ Assuming that $X(k+1)$ has been
defined, we let $X(k) \subseteq \Delta^n \times \Delta^1$ be the
union of $X(k+1)$ and the simplex $\sigma_k$ (together with all the
faces of $\sigma_k$). We note that this description exhibits $X(k)$ as a
pushout $$ X(k+1) \coprod_{ \Lambda^{n+1}_k } \Delta^{n+1},$$ and
also that $X(0) = \Delta^{n} \times \Delta^1$. It follows that
each step in the chain of inclusions
$$ X(n+1) \subseteq X(n) \subseteq \ldots \subseteq X(1) \subseteq
X(0)$$ is contained in the class of morphisms generated by $A_1$,
so that the inclusion $X(n+1) \subseteq X(0)$ is generated by
$A_1$.

To complete the proof, we show that each inclusion in
$A_1$ is a retract of an inclusion in $A_3$. More specifically,
the inclusion $\Lambda^{n}_i \subseteq \Delta^{n}$ is a retract of
$$(\Delta^n \times \{0\}) \coprod_{ \Lambda^n_i \times \{0\} } (
\Lambda^n_i \times \Delta^1) \subseteq \Delta^n \times \Delta^1,$$
so long as $0 \leq i < n$. We will define the relevant maps
$$ \Delta^{n} \stackrel{j}{\rightarrow} \Delta^n \times \Delta^1
\stackrel{r}{\rightarrow} \Delta^{n}$$ and leave it to the reader
to verify that they are compatible with the relevant subobjects. The
map $j$ is simply the inclusion
$\Delta^n \simeq \Delta^n \times \{1\} \subseteq \Delta^n \times \Delta^1$.
The map $r$ is induced by a map of partially ordered sets, which we will also denote by $r$. It may be described by the formulae

$$r(m,0) =
\begin{cases} m & \text{if } m \neq i+1 \\
i & \text{if } m = i+1 \end{cases}$$
$$r(m,1) = m.$$
\end{proof}

\begin{corollary}\label{prodprod1}
Let $i: A \rightarrow A'$ be left-anodyne, and let $j: B \rightarrow B'$ be a cofibration. Then
the induced map $$(A \times B') \coprod_{A \times B} (A' \times B)
\rightarrow A' \times B'$$ is left-anodyne.
\end{corollary}

\begin{proof}
This follows immediately from Proposition \ref{usejoyal2}, which characterizes the class of left-anodyne maps as the class generated by $A_3$ (which is stable under smash products with any cofibration).
\end{proof}

\begin{remark}
A basic fact in the homotopy theory of simplicial sets is that the analogue of Corollary \ref{prodprod1} holds also for the class of {\em anodyne} maps of simplicial sets. Since the class of anodyne maps is generated (as a weakly saturated class of morphisms) by the class of left anodyne maps and the class of right anodyne maps, this classical fact follows from Corollary \ref{prodprod1} (together with the dual assertion concerning right anodyne maps).
\end{remark}

\begin{corollary}\label{ichy}\index{gen}{left fibration!and functor categories}
Let $p: X \rightarrow S$ be a left-fibration, and let $i: A \rightarrow B$ be any cofibration of simplicial sets. Then the induced map $q: X^{B} \rightarrow X^A \times_{ S^A } S^B$ is a left fibration. If $i$ is left anodyne, then $q$ is a trivial Kan fibration.
\end{corollary}

\begin{corollary}[Homotopy Extension Lifting Property]\label{helper}
Let $p: X \rightarrow S$ be a map of simplicial sets. Then $p$ is a left fibration if and only if the induced map
$$ X^{\Delta^1} \rightarrow X^{ \{0\} } \times_{ S^{ \{0\} } } S^{\Delta^1}$$
is a trivial Kan fibration of simplicial sets.
\end{corollary}

For future use, we record the following criterion for establishing that a morphism is left anodyne:

\begin{proposition}\label{trull11}
Let $p: X \rightarrow S$ be a map of simplicial sets, let
$s: S \rightarrow X$ be a section of $p$, and let
$h \in \Hom_{S}(X \times \Delta^1, X)$ be a (fiberwise)
simplicial homotopy from $s \circ p = h| X \times \{0\}$ to $\id_{X} = h| X \times \{1\}$. Then $s$
is left anodyne.
\end{proposition}

\begin{proof}
Consider a diagram
$$ \xymatrix{ S \ar[d]^{s} \ar[r]^{g} & Y \ar[d]^{q} \\
X \ar[r]^{g'} \ar@{-->}^{f}[ur] & Z }$$
where $q$ is a left fibration. We must show that it is possible to find a map
$f$ rendering the diagram commutative. Define
$F_0: (S \times \Delta^1) \coprod_{ S \times \{ 0 \} } (X \times \{0\})$
to be the composition of $g$ with the projection onto $S$.
Now consider the diagram
$$ \xymatrix{ (S \times \Delta^1) \coprod_{ S \times \{0\} }
(X \times \{0\}) \ar[d] \ar[rrr]^{F_0} & & & Y \ar[d]^{q} \\
X \times \Delta^1 \ar[rrr]^{g' \circ h} \ar@{-->}[urrr]^{F} & & & Z. }$$
Since $q$ is a left fibration and the left vertical map is left anodyne, it
is possible to supply the dotted arrow $F$ as indicated. Now we observe that
$f = F|X \times \{1\}$ has the desired properties.
\end{proof}

\subsection{A Characterization of Kan Fibrations}\label{crit}

Let $p: X \rightarrow S$ be a left fibration of simplicial sets. As we saw in \S \ref{scgp}, $p$ determines for each vertex $s$ of $S$ a Kan complex $X_{s}$, and for each edge $f: s \rightarrow s'$ a map of Kan complexes $f_{!}: X_{s} \rightarrow X_{s'}$ (which is well-defined up to homotopy). If $p$ is a Kan fibration, then the same argument allows us to construct a map $X_{s'} \rightarrow X_{s}$, which is a homotopy inverse to $f_{!}$. Our goal in this section is to prove the following converse:

\begin{proposition}\label{dent}\index{gen}{left fibration!and Kan fibrations}
Let $p: S \rightarrow T$ be a left fibration of simplicial sets. The following conditions are equivalent:

\begin{itemize}
\item[$(1)$] The map $p$ is a Kan fibration.
\item[$(2)$] For every edge $f: t \rightarrow t'$ in $T$, the map $f_{!}: S_{t} \rightarrow S_{t'}$ is an isomorphism
in the homotopy category $\calH$ of spaces.
\end{itemize}

\end{proposition}

\begin{lemma}\label{strike2}
Let $p: S \rightarrow T$ be a left fibration of simplicial sets. Suppose that $S$ and $T$ are Kan complexes, and that $p$ is a homotopy equivalence. Then $p$ induces a surjection from $S_0$ to $T_0$.
\end{lemma}

\begin{proof}
Fix a vertex $t \in T_0$. Since $p$ is a homotopy equivalence, there exists a vertex $s \in S_0$ and an edge $e$ joining $p(s)$ to $t$. Since $p$ is a left fibration, this edge lifts to an edge $e': s \rightarrow s'$ in $S$. Then $p(s')=t$.
\end{proof}

\begin{lemma}\label{toothie2}
Let $p: S \rightarrow T$ be a left fibration of simplicial sets. Suppose that $T$ is a Kan complex. Then $p$ is a Kan fibration.
\end{lemma}

\begin{proof} 
We note that the projection $S \rightarrow \ast$, being a composition of left fibrations
$S \rightarrow T$ and $T \rightarrow \ast$, is a left fibration, so that $S$ is also a Kan complex.
Let $A \subseteq B$ be an anodyne inclusion of simplicial sets. We must show that the map
$p: S^B \rightarrow S^A \times_{ T^A} T^B$ is surjective on vertices. Since $S$ and $T$ are Kan complexes, the maps $T^B \rightarrow T^A$ and $S^B \rightarrow S^A$ are trivial fibrations. It follows that $p$ is a homotopy equivalence and a left fibration. Now we simply apply Lemma \ref{strike2}.
\end{proof}

\begin{lemma}\label{toothie}
Let $p: S \rightarrow T$ be a left fibration of simplicial sets. Suppose that for every vertex $t \in T$, the fiber $S_{t}$ is contractible. Then $p$ is a trivial Kan fibration.
\end{lemma}

\begin{proof}
It will suffice to prove the analogous result for {\em right} fibrations (we do this in order to keep the notation we use below consistent with that employed in the proof of Proposition \ref{usejoyal}).

Since $p$ has nonempty fibers, it has the right lifting property with respect to the inclusion
$\emptyset = \bd \Delta^0 \subseteq \Delta^0$. Let $n > 0$, $f: \bd \Delta^n \rightarrow S$ any map, and $g: \Delta^n \rightarrow T$ an extension of $p \circ f$. We must show that there exists an extension $\widetilde{f}: \Delta^n \rightarrow S$ with $g = p \circ \widetilde{f}$.

Pulling back via the map $G$, we may suppose that $T = \Delta^n$ and $g$ is the identity map, so that $S$ is an $\infty$-category. Let $t$ denote the initial vertex of $T$. There is a unique map
$g': \Delta^n \times \Delta^1 \rightarrow T$ such that $g' | \Delta^n \times \{1\} = g$ and
$g' | \Delta^n \times \{0\}$ is constant at the vertex $t$.

Since the inclusion $\bd \Delta^n \times \{1\} \subseteq \bd \Delta^n \times \Delta^1$ is right anodyne, there exists an extension $f'$ of $f$ to $\bd \Delta^n \times \Delta^1$ which covers $g' | \bd \Delta^n \times \Delta^1$. To complete the proof, it suffices to show that we can extend $f'$ to a map $\widetilde{f}': \Delta^n \times \Delta^1 \rightarrow S$ (such an extension is automatically compatible with $g'$ in view of our assumptions that $T = \Delta^n$ and $n > 0$). Assuming this has been done, we simply define
$\widetilde{f} = \widetilde{f}' | \Delta^n \times \{1\}$.

Recall the notation of the proof of Proposition \ref{usejoyal}, and filter the simplicial set
$\Delta^n \times \Delta^1$ by the simplicial subsets
$$ X(n+1) \subseteq \ldots \subseteq X(0) = \Delta^n \times \Delta^1.$$
We extend the definition of $f'$ to $X(m)$ by a descending induction on $m$. When $m=n+1$, we note that $X(n+1)$ is obtained from $\bd \Delta^n \times \Delta^1$ by adjoining the interior of the simplex 
$ \bd \Delta^n \times \{0 \}$. Since the boundary of this simplex maps entirely into the contractible Kan complex $S_{t}$, it is possible to extend $f'$ to $X(n+1)$.

Now suppose the definition of $f'$ has been extended to $X(i+1)$. We note that $X(i)$ is obtained from $X(i+1)$ by pushout along a horn inclusion $\Lambda^{n+1}_i \subseteq \Delta^{n+1}$. If $i > 0$, then the assumption that $S$ is an $\infty$-category guarantees the existence of an extension of $f'$ to $X(i)$. When $i =0$, we note that $f'$ carries the initial edge of $\sigma_0$ into the fiber $S_{t}$. Since $S_{t}$ is a Kan complex, $f'$ carries the initial edge of $\sigma_0$ to an equivalence in $S$, and the desired extension of $f'$ exists by Proposition \ref{greenlem}.
\end{proof}

\begin{proof}[Proof of Proposition \ref{dent}]
Suppose first that $(1)$ is satisfied, and let $f: t \rightarrow t'$ be an edge in $T$. 
Since $p$ is a right fibration, the edge $f$ induces a map $f^{\ast}: S_{t'} \rightarrow S_{t}$, which is
well-defined up to homotopy. It is not difficult to check that the maps $f^{\ast}$ and
$f_{!}$ are homotopy inverse to one another; in particular, $f_{!}$ is a homotopy equivalence.
This proves that $(1) \Rightarrow (2)$.

Assume now that $(2)$ is satisfied. A map of simplicial sets is a Kan fibration if and only if it is both a right fibration and a left fibration; consequently, it will suffice to prove that $p$ is a right fibration. According to Corollary \ref{helper}, it will suffice to show that $$q: S^{\Delta^1} \rightarrow S^{ \{1\} } \times_{ T^{ \{1\} }} T^{ \Delta^1} $$ is a trivial Kan fibration. Corollary \ref{ichy} implies that $q$ is a left fibration. By Lemma \ref{toothie}, it suffices to show that the fibers of $q$ are contractible.

Fix an edge $f: t \rightarrow t'$ in $T$. Let $X$ denote the simplicial set of sections of the projection
$S \times_{ T} {\Delta^1} \rightarrow \Delta^1$, where $\Delta^1$ maps into $T$ via the edge $f$. Consider the fiber $q': X \rightarrow S_{ t'}$ of $q$ over the edge $f$. Since the $q$ and $q'$ have the same fibers (over points of $S^{ \{1\} }\times_{ T^{ \{1\} } } T^{ \Delta^1} $ whose second projection is the edge $f$), it will suffice to show that $q'$ is a trivial fibration for every choice of $f$.

Consider the projection $r: X \rightarrow S_{t}$. Since $p$ is a left fibration, $r$ is a trivial fibration.
Because $S_{t}$ is a Kan complex, so is $X$. Lemma \ref{toothie2} implies that $q'$ is a Kan fibration.
We note that $f_{!}$ is obtained by choosing a section of $r$ and then composing with $q'$. Consequently, assumption $(2)$ implies that $q'$ is a homotopy equivalence, and thus a trivial fibration, which completes the proof.
\end{proof}

\begin{remark}
Lemma \ref{toothie} is an immediate consequence of Proposition \ref{dent}, since any map between contractible Kan complexes is a homotopy equivalence. Lemma \ref{toothie2} also follows immediately, since if $T$ is a Kan complex, then its homotopy category is a groupoid, so that
{\em any} functor $\h{T} \rightarrow \calH$ carries edges of $T$ to invertible morphisms in $\calH$.
\end{remark}

\subsection{The Covariant Model Structure}\label{contrasec}

In \S \ref{leftfib}, we saw that a left fibration $p: X \rightarrow S$ determines a functor
$\chi$ from $\h{S}$ to the homotopy category $\calH$, carrying each 
vertex $s$ to the fiber $X_{s} = X \times_{S} \{s\}$. We would like to formulate
a more precise relationship between left fibrations over $S$ and functors
from $S$ into spaces. For this, it is convenient to employ Quillen's language of model categories. In this section, we will show that the category $(\sSet)_{/S}$ can be endowed with the structure of a simplicial model category, whose fibrant objects are precisely the left fibrations $X \rightarrow S$. In \S \ref{valencequi}, we will give an $\infty$-categorical version of the Grothendieck construction, provided by a suitable right Quillen functor
$$ (\sSet)^{\sCoNerve[S]} \rightarrow (\sSet)_{/S}$$
which we will prove to be a Quillen equivalence (Theorem \ref{struns}).

\begin{warning}
We will assume throughout this section that the reader is familiar with
the theory of model categories, as presented in \S \ref{appmodelcat}. We will also assume familiarity with the model structure on the category $\sCat$ of simplicial categories (see \S \ref{compp4}).
\end{warning}

\begin{definition}\index{gen}{cone!left}\index{gen}{left cone}\index{gen}{cone!right}\index{gen}{right cone}\index{gen}{mapping cone}\index{not}{Cl@$C^{\triangleleft}(f)$}\index{not}{Cr@$C^{\triangleleft}(f)$}
Let $f: X \rightarrow S$ be a map of simplicial sets. The
{\it left cone} of $f$ is the simplicial set $S \coprod_{X} X^{\triangleleft}$.
We will denote the left cone of $f$ by $C^{\triangleleft}(f)$.
Dually, we define the {\em right cone} of $f$ to be the simplicial
set $C^{\triangleleft}(f) = S \coprod_{X} X^{\triangleleft}$.
\end{definition}

\begin{remark}
Let $f: X \rightarrow S$ be a map of simplicial sets. There is a canonical monomorphism
of simplicial sets $S \rightarrow C^{\triangleleft}(f)$. We will generally identify $S$ with its image under this monomorphism, and thereby regard $S$ as a simplicial subset of
$C^{\triangleleft}(f)$. We note that there is a unique vertex of
$C^{\triangleleft}(f)$ which does not belong to $S$. We will refer to this vertex as
the {\it cone point} of $C^{\triangleleft}(f)$. 
\end{remark}

\begin{example}
Let $S$ be a simplicial set, and let $\id_{S}$ denote the identity map from $S$ to itself.
Then $C^{\triangleleft}(\id_S)$ and $C^{\triangleright}(\id_S)$ can be identified with
$S^{\triangleleft}$ and $S^{\triangleright}$, respectively.
\end{example}

\begin{definition}\index{gen}{covariant!cofibration}\index{gen}{covariant!fibration}\index{gen}{covariant!equivalence}\index{gen}{cofibration!covariant}\index{gen}{fibration!covariant}\index{gen}{equivalence!covariant}
Let $S$ be a simplicial set. We will say that a map $f: X \rightarrow Y$ in $(\sSet)_{/S}$ is
a:
\begin{itemize}
\item[$(C)$] {\it covariant cofibration} if it is a monomorphism of simplicial sets.
\item[$(W)$] {\it covariant equivalence} if the induced map
$$ X^{\triangleleft} \coprod_{X} S \rightarrow Y^{\triangleleft} \coprod_{Y} S $$
is a categorical equivalence.
\item[$(F)$] {\it covariant fibration} if it has the right lifting property with respect to every map
which is both a covariant cofibration and a covariant equivalence.
\end{itemize}
\end{definition}

\begin{lemma}\label{onehalff}
Let $S$ be a simplicial set. Then every left anodyne map in $(\sSet)_{/S}$ is a covariant
equivalence.
\end{lemma}

\begin{proof}
By general nonsense, it suffices to prove the result for a generating left anodyne inclusion of the form $\Lambda^n_i \subseteq \Delta^n$, where $0 \leq i < n$. In other words, we must show any map
$$ i: ( \Lambda^n_i)^{\triangleleft} \coprod_{ \Lambda^n_i} S \rightarrow (\Delta^n)^{\triangleleft} \coprod_{ \Delta^n} S$$
is a categorical equivalence. We now observe that $i$ is a pushout of the inner anodyne inclusion
$\Lambda^{n+1}_{i+1} \subseteq \Delta^{n+1}$.
\end{proof}

\begin{proposition}\label{covcech}\index{gen}{covariant!model structure}\index{gen}{model category!covariant}
Let $S$ be a simplicial set. The covariant cofibrations, covariant equivalences, and covariant fibrations determine a left proper, combinatorial model structure on $(\sSet)_{/S}$.
\end{proposition}

\begin{proof}
It suffices to show that conditions $(1)$, $(2)$, and $(3)$ of Proposition \ref{goot} are met.
We consider each in turn:
\begin{itemize}
\item[$(1)$] The class $(W)$ of weak equivalences is perfect. This follows from
Corollary \ref{perfpull}, since the functor $X \mapsto X^{\triangleleft} \coprod_{X} S$ commutes with filtered colimits.

\item[$(2)$] It is clear that the class $(C)$ of cofibrations is generated by a set. We must show that weak equivalences are stable under pushouts by cofibrations. In other words, suppose we are given a pushout diagram
$$ \xymatrix{ X \ar[r]^{j} \ar[d]^{i} & Y \ar[d] \\
X' \ar[r]^{j'} & Y' }$$
in $(\sSet)_{/S}$ where $i$ is a covariant cofibration and $j$ is a covariant equivalence. We must show that $j'$ is a covariant equivalence. We obtain a pushout diagram in $\sCat$
$$ \xymatrix{ \sCoNerve[X^{\triangleleft} \coprod_{X} S]  \ar[r] \ar[d] & \sCoNerve[Y^{\triangleleft} \coprod_{Y} S] \ar[d] \\
\sCoNerve[(X')^{\triangleleft} \coprod_{X'} S] \ar[r] & \sCoNerve[(Y')^{\triangleleft} \coprod_{Y'} S]}$$
which is homotopy coCartesian, since $\sCat$ is a left proper model category. Since the upper horizontal map is an equivalence, so it the bottom horizontal map; thus $j'$ is a covariant equivalence.

\item[$(3)$] We must show that a map $p: X \rightarrow Y$ in $\sSet$, which has the right lifting
property with respect to every map in $(C)$, belongs to $(W)$. We note in that case that $p$ is a trivial Kan fibration, and therefore admits a section $s: Y \rightarrow X$. We will show that
$p$ and $s$ induce mutually inverse isomorphisms between
$\sCoNerve[ X^{\triangleleft} \coprod_{X} S]$ and $\sCoNerve[ Y^{\triangleleft} \coprod_{Y} S]$
in the homotopy category $\h{\sCat}$; it will then follow that $p$ is a covariant equivalence.

Let $f: X \rightarrow X$ denote the composition $s \circ p$; we wish to show that the
map $\sCoNerve[ X^{\triangleleft} \coprod_{X} S]$ induced by $f$ is equivalent
to the identity in $\h{\sCat}$. We observe that $f$ is homotopic to the identity $\id_{X}$ via
a homotopy $h: \Delta^1 \times X \rightarrow X$. It will therefore suffice to show
that $h$ is a covariant equivalence. But $h$ admits a left inverse
$$X \simeq \{0\} \times X \subseteq \Delta^1 \times X$$
which is left anodyne (Corollary \ref{prodprod1}) and therefore
a covariant equivalence by Lemma \ref{onehalff}.
\end{itemize}
\end{proof}

\begin{proposition}\label{natsim}
The category $(\sSet)_{/S}$ is a simplicial model category $($with respect to the covariant model structure and the natural simplicial structure$)$.
\end{proposition}

\begin{proof}
We will deduce this from Proposition \ref{testsimpmodel}. The only nontrivial point is to verify that for any $X \in (\sSet)_{/S}$, the projection $X \times \Delta^n \rightarrow X$ is a covariant equivalence. But this map has a section $X \times \{0\} \rightarrow X \times \Delta^n$, which is left anodyne and therefore a covariant equivalence (Proposition \ref{onehalf}).
\end{proof}

We will refer to the model structure of Proposition \ref{covcech} as the {\it covariant model structure} on $(\sSet)_{/S}$. We will prove later that the covariantly fibrant objects of $(\sSet)_{/S}$ are precisely the left fibrations $X \rightarrow S$ (Corollary \ref{usewhere1}). For the time being, we will be content to make a much weaker observation:

\begin{proposition}\label{onehalf}
Let $S$ be a simplicial set.
\begin{itemize}
\item[$(1)$] Every left anodyne map in $(\sSet)_{/S}$ is a trivial cofibration with respect to the covariant model structure.
\item[$(2)$] Every covariant fibration in $(\sSet)_{/S}$ is a left fibration of simplicial sets.
\item[$(3)$] Every fibrant object of $(\sSet)_{/S}$ determines a left fibration $X \rightarrow S$.
\end{itemize}
\end{proposition}

\begin{proof}
Assertion $(1)$ follows from Lemma \ref{onehalff}, and 
the implications $(1) \Rightarrow (2) \Rightarrow (3)$ are obvious.
\end{proof}

Our next result expresses the idea that the covariant model structure on $(\sSet)_{/S}$ depends functorially on $S$:

\begin{proposition}\label{contrafunk}
Let $j: S \rightarrow S'$ be a map of simplicial sets. Let 
$j_{!}: (\sSet)_{/S} \rightarrow (\sSet)_{/S'}$ be the forgetful functor $($given by composition with
$j${}$)$, and let $j^{\ast}: (\sSet)_{/S'} \rightarrow (\sSet)_{/S}$ be its right adjoint, which is given by the formula
$$ j^{\ast} X' = X' \times_{S'} S.$$
Then we have a Quillen adjunction
$$ \Adjoint{ j_{!} }{ (\sSet)_{/S} }{ (\sSet)_{/S'}}{j^{\ast}}$$
(with the covariant model structures). 
\end{proposition}

\begin{proof}
It is clear that $j_{!}$ preserves cofibrations. For $X \in (\sSet)_{S}$, the pushout diagram
$$ \xymatrix{ S \ar[r] \ar[d] & S' \ar[d] \\
X^{\triangleleft} \coprod_{X} S \ar[r] & X^{\triangleleft} \coprod_{X} S'}$$
is a homotopy pushout (with respect to the Joyal model structure). Thus $j_{!}$ preserves covariant equivalences. It follows that $(j_{!}, j^{\ast})$ is a Quillen adjunction.
\end{proof}

\begin{remark}
Let $j: S \rightarrow S'$ be as in Proposition \ref{contrafunk}. If $j$ is a categorical
equivalence, then the Quillen adjunction $(j_{!}, j^{\ast})$ is a categorical
equivalence. This follows from Theorem \ref{struns} and Proposition \ref{lesstrick}.
\end{remark}

\begin{remark}\index{gen}{contravariant model structure}\index{gen}{model category!contravariant}
Let $S$ be a simplicial set. The covariant model structure on $(\sSet)_{/S}$
is usually not self-dual. Consequently, we may define a new model
structure on $(\sSet)_{/S}$ as follows:
\begin{itemize}
\item[$(C)$] A map $f$ in $(\sSet)_{/S}$ is a {\it contravariant cofibration} if
it is a monomorphism of simplicial sets.
\item[$(W)$] A map $f$ in $(\sSet)_{/S}$ is a {\it contravariant equivalence} if
$f^{op}$ is a covariant equivalence in $(\sSet)_{/S^{op}}$.\index{gen}{contravariant equivalence}\index{gen}{equivalence!contravariant} 
\item[$(F)$] A map $f$ in $(\sSet)_{/S}$ is a {\it contravariant fibration} if
$f^{op}$ is a covariant fibration in $(\sSet)_{/S^{op}}$.\index{gen}{contravariant fibration}\index{gen}{fibration!contravariant}
\end{itemize}
We will refer to this model structure on $(\sSet)_{/S}$ as the {\it contravariant} model structure. Propositions \ref{natsim}, \ref{onehalf} and \ref{contrafunk} have evident analogues in the contravariant setting.
\end{remark}

%*** this part uses hard stuff, but can also deduce from straightening theorem
%Now suppose that $j$ is a categorical equivalence. We wish to show that $(j_{!}, j^{\ast})$ is a Quillen equivalence. In other words, we must show that for any $X \in (\sSet)_{/S}$ and any fibrant object $Y \in (\sSet)_{/S'}$, a map $j_{!} X \rightarrow Y$ is a covariant equivalence in $(\sSet)_{/S}$ if and only if the adjoint map $X \rightarrow j^{\ast} Y$ is a covariant equivalence in $(\sSet)_{/S'}$. We have a commutative diagram of simplicial sets
%$$ \xymatrix{ X^{\triangleleft} \coprod_{X} S \ar[r] \ar[d] & X^{\triangleleft} \coprod_{X} S' \ar[d] \\
%(j^{\ast} Y)^{\triangleleft} \coprod_{ j^{\ast} Y} S
%\ar[r]^{f} & Y^{\triangleleft} \coprod_{Y} S'. }$$
%We wish to show that the left vertical map is a categorical equivalence if and only if the right vertical map is a categorical equivalence. It therefore suffices to show that both horizontal maps are categorical equivalences. For the upper horiztonal map, this follows immediately from the assumption that $j$ is a categorical equivalence (since the Joyal model structure is left proper).
%We can factor the map $f$ as
%$$ (j^{\ast} Y)^{\triangleleft} \coprod_{ j^{\ast} Y} S \stackrel{f'}{\rightarrow} 
%(j^{\ast} Y)^{\triangleleft} \coprod_{ j^{\ast} Y} S' 
%\stackrel{f''}{\rightarrow} Y^{\triangleleft} \coprod_{Y} S'.$$
%The map $f'$ is a homotopy pushout of $j$, and therefore a categorical equivalence. 
%According to Proposition \ref{onehalf}, $Y \rightarrow S'$ is a left fibration.
%Proposition \ref{basechangefunky} implies that $j^{\ast} Y \rightarrow Y$ is a categorical equivalence, which implies that $f''$ is a categorical equivalence.
%\end{proof}




%We will give a proof of Theorem \ref{struns} in \S \ref{chap4}, after establishing a more refined
%correspondence in the setting of marked simplicial sets (see Theorem \ref{strungss}). 

%Our next goal is to describe the relationship between left fibrations $X \rightarrow S$ and
%diagrams $S \rightarrow \SSet$. To facilitate comparison with the results of \S \ref{chap4}, we will work instead with {\em right} fibrations. Note that 
%all of the definitions and results above have obvious dual versions obtained by passing to opposite $\infty$-categories; in particular, for every simplicial set $S$ we can also define the {\it contravariant} model structure on $(\sSet)_{/S}$, whose fibrant objects are right fibrations over $S$.\index{gen}{model category!contravariant}\index{gen}{contravariant!model category}\index{gen}{contravariant!fibration}\index{gen}{contravariant!equivalence}