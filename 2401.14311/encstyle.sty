\RequirePackage{kvoptions}

\SetupKeyvalOptions{
  family=RGH,
  prefix=RGH@
}

\DeclareBoolOption{titlepage}
\DeclareBoolOption{global}
\DeclareBoolOption{sec}
\DeclareBoolOption{subsec}

\ProcessKeyvalOptions*\relax




\usepackage{amsmath,amssymb,amsthm}
\usepackage[utf8]{inputenc}
\usepackage{url}
\usepackage[shortlabels]{enumitem}
  \setitemize[1]{leftmargin=2em,label=$\blacktriangleright$}
  \setenumerate[1]{leftmargin=*}
\usepackage[colorlinks=true,linktocpage=true,citecolor=blue,unicode,hyperindex,breaklinks]{hyperref}
\usepackage[capitalise]{cleveref}
\crefformat{equation}{(#2#1#3)}
%\usepackage{todonotes}
\usepackage{color}
\usepackage{tikz}
\usetikzlibrary{matrix,arrows}
\usepackage{tikz-cd}
\tikzset{Rightarrow/.style={double equal sign distance,>={Implies},->},
triple/.style={-,preaction={draw,Rightarrow}},
quadruple/.style={preaction={draw,Rightarrow,shorten >=0pt},shorten >=1pt,-,double,double
distance=0.2pt}}  


\usepackage[alphabetic]{amsrefs}
%\usepackage{amsrefs}
% Fix arXiv links in bibliography
\usepackage{xstring}
\renewcommand{\eprint}[1]{\IfBeginWith{#1}{arXiv}{\href{https://arxiv.org/abs/#1}{#1}}{\href{#1}{#1}}}
%\renewcommand{\eprint}[1]{\href{https://arxiv.org/abs/#1}{#1}}
%\usepackage{palatino}
%\usepackage{mathpazo}
%\usepackage{eucal}
\usepackage[normalem]{ulem}

% \makeatletter
\DeclareSymbolFontAlphabet{\amsbb}{AMSb}
%\makeatother
%\usepackage{mbboard}
%\renewcommand{\mathbb}[1]{\amsbb{#1}}
\newcommand{\bbDelta}{\boldsymbol{\Delta}}
\newcommand{\bbLambda}{\boldsymbol{\Lambda}}
% Theorems
\theoremstyle{plain}
% \setcounter{tocdepth}{1}
\ifRGH@global
\newtheorem{thm}{Theorem}
\else
\ifRGH@sec
\newtheorem{thm}{Theorem}[section]
\else
\ifRGH@subsec
\newtheorem{thm}{Theorem}[subsection]
\else
\fi
\fi
\fi
%\newtheorem{thm}{Theorem}[section]
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{propn}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{prethm}[thm]{Pretheorem}
\newtheorem{upshot}[thm]{Upshot}
\newtheorem{conjecture}[thm]{Conjecture}
\newtheorem*{thm*}{Theorem}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem*{goal*}{Goal}
\newtheorem*{question*}{Question}
\newtheorem*{prethm*}{Pretheorem}
\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{ex}[thm]{Example}
\newtheorem{exs}[thm]{Examples}
\newtheorem{notation}[thm]{Notation}
\newtheorem{fact}[thm]{Fact}
\newtheorem{warning}[thm]{Warning}
\newtheorem{hope}[thm]{Hope}
\newtheorem{question}[thm]{Question}
\newtheorem{problem}[thm]{Problem}
\newtheorem{remark}[thm]{Remark}
\newtheorem{exercise}[thm]{Exercise}
\newtheorem{observation}[thm]{Observation}
\newtheorem{idea}[thm]{Vague Idea}
\newtheorem{construction}[thm]{Construction}
\newtheorem{variant}[thm]{Variant}
\newtheorem{note}[thm]{Note}
\theoremstyle{remark}
\newtheorem*{claim}{Claim}


% Categories
\newcommand{\txt}[1]{\ensuremath{\text{\textup{#1}}}}
% \newcommand{\catname}[1]{\txt{#1}}
\newcommand{\catname}[1]{\textup{\textsf{#1}}}
\newcommand{\Set}{\catname{Set}}
\newcommand{\sSet}{\Set_{\Delta}}
\newcommand{\Cat}{\catname{Cat}}
\newcommand{\CatI}{\catname{Cat}_\infty}
\newcommand{\LCatI}{\widehat{\catname{Cat}}_\infty}
\newcommand{\Ab}{\catname{Ab}}
\newcommand{\Sp}{\catname{Sp}}
\newcommand{\h}{\mathrm{h}}
\newcommand{\hSp}{\h\Sp}
\newcommand{\Mod}{\catname{Mod}}
\newcommand{\LMod}{\catname{LMod}}
\newcommand{\RMod}{\catname{RMod}}
\newcommand{\BMod}{\catname{BMod}}
\newcommand{\RModlax}{\RMod^{\txt{lax}}}
\newcommand{\LModlax}{\LMod^{\txt{lax}}}
\newcommand{\hMod}[1]{\h\Mod{#1}}
\newcommand{\Mon}{\catname{Mon}}
\newcommand{\MON}{\catname{MON}}
\newcommand{\MONlax}{\MON^{\lax}}
\newcommand{\CMon}{\catname{CMon}}
\newcommand{\CGrp}{\catname{CGrp}}
\newcommand{\Alg}{\catname{Alg}}
\newcommand{\Algd}{\catname{Algd}}
\newcommand{\Enr}{\catname{Enr}}
\newcommand{\Algc}{\Alg^{\txt{comp}}}
\newcommand{\Algdc}{\Algd^{\txt{comp}}}
\newcommand{\ALG}{\catname{ALG}}
\newcommand{\Opd}{\catname{Opd}}
\newcommand{\OPD}{\catname{OPD}}
\newcommand{\OpdI}{\Opd_{\infty}}
\newcommand{\PrL}{\catname{Pr}^{\mathrm{L}}}
\newcommand{\Fun}{\catname{Fun}}
\newcommand{\Map}{\catname{Map}}
\newcommand{\Hom}{\catname{Hom}}
\newcommand{\Aut}{\catname{Aut}}
\newcommand{\End}{\catname{End}}
\newcommand{\op}{\txt{op}}
% \DeclareMathOperator{\Seg}{Seg}
\newcommand{\Seg}{\catname{Seg}}
% \DeclareMathOperator{\CSeg}{CSeg}
\newcommand{\CSeg}{\catname{CSeg}}
\newcommand{\Span}{\catname{Span}}
\DeclareMathOperator{\SPAN}{SPAN}
\newcommand{\CAlg}{\catname{CAlg}}
\newcommand{\bEn}{\mathbb{E}_{n}}
% Abbreviations
\newcommand{\IFF}{if and only if}
\newcommand{\icat}{$\infty$-category}
\newcommand{\icats}{$\infty$-categories}
\newcommand{\icatl}{$\infty$-categorical}
\newcommand{\igpd}{$\infty$-groupoid}
\newcommand{\igpds}{$\infty$-groupoids}
\newcommand{\igpdl}{$\infty$-groupoidal}
\newcommand{\itcat}{$(\infty,2)$-category}
\newcommand{\itcats}{$(\infty,2)$-categories}
\newcommand{\incat}{$(\infty,n)$-category}
\newcommand{\incats}{$(\infty,n)$-categories}
\newcommand{\iopd}{$\infty$-operad}
\newcommand{\iopds}{$\infty$-operads}
\newcommand{\nsiopd}{non-symmetric $\infty$-operad}
\newcommand{\nsiopds}{non-symmetric $\infty$-operads}
\newcommand{\gnsiopd}{generalized non-symmetric $\infty$-operad}
\newcommand{\gnsiopds}{generalized non-symmetric $\infty$-operads}
\newcommand{\eg}{e.g.\@}
\newcommand{\ie}{i.e.\@}
\newcommand{\Ie}{I.e.\@}
\newcommand{\cf}{cf.\@}
\newcommand{\Cf}{Cf.\@}


\newcommand{\Day}{\catname{Day}}
\newcommand{\Free}{\catname{Free}}
\newcommand{\Act}{\catname{Act}}

% Letters
\newcommand{\RR}{\mathbb{R}}
\newcommand{\TT}{\mathbb{T}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\p}{\mathfrak{p}}



% Arrows
\renewcommand{\to}{%
  \if@display\longrightarrow%
  \else\rightarrow%
  \fi%
}
%\newcommand{\isoto}{\xrightarrow{\sim}}
\newcommand{\xto}[1]{%
  \if@display\xlongrightarrow{#1}%
  \else\xrightarrow{#1}%
  \fi%
}
\newcommand{\from}{%
  \if@display\longleftarrow%
  \else\leftarrow%
  \fi%
}
\newcommand{\xfrom}[1]{%
  \if@display\xlongleftarrow{#1}%
  \else\xleftarrow{#1}%
  \fi%
}
\newcommand{\isoto}{\xto{\sim}}
\newcommand{\isofrom}{\xfrom{\sim}}
\newcommand{\toto}{\rightrightarrows}
%\newcommand{\xto}[1]{\xrightarrow{#1}}
\newcommand{\xtoto}[2]{\mathop{\toto}^{#1}_{#2}}
%\newcommand{\from}{\leftarrow}
%\newcommand{\xfrom}[1]{\xleftarrow{#1}}
\newcommand{\xtofrom}[2]{\mathop{\rightleftarrows}^{#1}_{#2}}


% Other symbols
\newcommand{\blank}{\text{\textendash}}
\newcommand{\id}{\txt{id}}

\DeclareMathOperator*{\colimP}{colim}
\DeclareMathOperator*{\limP}{lim}

\let\lim\relax \DeclareMathOperator{\lim}{lim}
\let\colim\relax \DeclareMathOperator{\colim}{colim}

\DeclareMathOperator{\hocolimP}{hocolim}
\newcommand{\hocolim}{\mathop{\hocolimP}}
\DeclareMathOperator{\holimP}{holim}
\newcommand{\holim}{\mathop{\holimP}}
\DeclareMathOperator{\Ind}{Ind}
\newcommand{\simp}{\bbDelta}
\newcommand{\bbO}{\bbOmega}
\newcommand{\bbOop}{\bbOmega^{\op}}
\newcommand{\bbOi}{\bbOmega^{\xint}}
\newcommand{\bbOiop}{\bbOmega^{\xint,\op}}
\newcommand{\bbOe}{\bbOmega^{\el}}
\newcommand{\bbOeop}{\bbOmega^{\el,\op}}
\newcommand{\Dop}{\simp^{\op}}
\newcommand{\DopX}{\Dop_{X}}
\newcommand{\Dopn}{\Dop_{/[n]}}
\newcommand{\bX}{\mathbb{X}}
\newcommand{\bY}{\mathbb{Y}}
\newcommand{\bZ}{\mathbb{Z}}
\newcommand{\DopnX}{\Dop_{/[n],\bX}}
\newcommand{\Dnop}{\simp^{n,\op}}
\newcommand{\Dn}{\simp_{/[n]}}
\newcommand{\angled}[1]{\langle #1 \rangle}
\newcommand{\drpullback}{\arrow[phantom]{dr}[very near start,description]{\lrcorner}}
% Comments
\newcommand{\rgh}[1]{\textcolor{red}{ [#1] }}
\newcommand\rmarg[1]{\marginpar{\tiny\raggedright\textcolor{red}{#1}}}

\DeclareMathOperator{\sub}{sub}
\newcommand{\DF}{\simp_{\mathbb{F}}}
\newcommand{\DFop}{\Dop_{\mathbb{F}}}

%\usepackageo{bm}
\usepackage[full]{textcomp} % to get the right copyright, etc.
\usepackage[p,osf]{XCharter} % osf in text, tabular lining figures in math
\usepackage[scaled=.95,type1]{cabin} % sans serif in style of Gill Sans
\usepackage[varqu,varl]{zi4}% inconsolata typewriter
\usepackage[T1]{fontenc} % LY1 also works
\usepackage[xcharter,vvarbb,scaled=1.03,smallerops,bigdelims]{newtxmath}
\usepackage[cal=boondoxo,bb=boondox,frak=boondox]{mathalfa}
\DeclareMathAlphabet{\mathbfsf}{\encodingdefault}{\sfdefault}{bx}{sl}




\newcommand{\Algcat}{\Alg_{\txt{cat}}}
\newcommand{\Bimodcat}{\Bimod_{\txt{cat}}}
\newcommand{\Mor}{\catname{Mor}}
\newcommand{\oMor}{\overline{\Mor}}
\newcommand{\oMorc}{\overline{\Mor}_{\txt{cat}}}
\newcommand{\Morc}{\Mor_{\txt{cat}}}
\newcommand{\Spc}{\catname{Spc}}
\newcommand{\Opdns}{\Opd^{\txt{ns}}}
\newcommand{\POpdI}{\catname{POpd}_{\infty}}
\newcommand{\OpdIgns}{\OpdI^{\txt{gen,ns}}}
\newcommand{\OpdIns}{\OpdI^{\txt{ns}}}
\newcommand{\OpdIg}{\OpdI^{\txt{gen}}}
\newcommand{\Lgen}{L_{\txt{gen}}}
\newcommand{\WSF}{\catname{WSF}}
\newcommand{\RFib}{\catname{RFib}}

\newcommand{\CAT}{\catname{CAT}}
\newcommand{\Tw}{\catname{Tw}}
\newcommand{\TwR}{\Tw^{r}}
\newcommand{\TwL}{\Tw^{\ell}}
\newcommand{\FUN}{\catname{FUN}}
\newcommand{\CATI}{\CAT_{\infty}}
\newcommand{\CatIT}{\Cat_{(\infty,2)}}
\newcommand{\ladj}{\txt{ladj}}
\newcommand{\radj}{\txt{radj}}
\newcommand{\dladj}{\txt{-ladj}}
\newcommand{\dradj}{\txt{-radj}}
\newcommand{\lax}{\txt{lax}}
\newcommand{\laxmon}{\txt{laxmon}}
\newcommand{\oplaxmon}{\txt{oplaxmon}}
\newcommand{\dlax}{\txt{-lax}}
\newcommand{\oplax}{\txt{oplax}}
\newcommand{\plax}{\txt{(op)lax}}
\newcommand{\doplax}{\txt{-oplax}}

\newcommand{\MonCat}{\catname{MonCat}}
\newcommand{\MonCatI}{\MonCat_{\infty}}
\newcommand{\MonCatIlax}{\MonCat_{\infty}^{\lax}}
\newcommand{\LMonCat}{\widehat{\MonCat}}
\newcommand{\LMonCatI}{\LMonCat_{\infty}}
\newcommand{\LMonCatIc}{\LMonCatI^{\txt{ccmp}}}
\newcommand{\LCatIsc}{\LCatI^{\txt{sc}}}
\newcommand{\LCatIsct}{\LCatI^{\txt{sc},\times}}
\newcommand{\LCatIc}{\LCatI^{\txt{ccmp}}}
\newcommand{\Ar}{\catname{Ar}}
\newcommand{\Arc}{\Ar_{\txt{cell}}}
\newcommand{\xint}{\txt{int}}
\newcommand{\el}{\txt{el}}
\newcommand{\Arint}{\Ar_{\xint}}

\newcommand{\actto}{\rightsquigarrow}
\newcommand{\intto}{\rightarrowtail}
\usetikzlibrary{decorations.pathmorphing}
\tikzcdset{
   active/.style={rightsquigarrow},
   inert/.style={tail}
 }

 \usepackage{tikz-qtree}

\newcommand{\twop}{\txt{2-op}}

\newcommand{\pr}{\txt{pr}}

\newcommand{\ev}{\txt{ev}}

\newcommand{\cocabb}{coc}
\newcommand{\Cocabb}{Coc}
\newcommand{\coc}{\txt{\cocabb}}
\newcommand{\Coc}{\catname{\Cocabb}}
\newcommand{\Cart}{\catname{Cart}}
\newcommand{\Cocart}{\catname{Cocart}}
\newcommand{\LFib}{\catname{LFib}}
\newcommand{\laxcoc}{\txt{lax\cocabb}}
\newcommand{\dcoc}{\txt{-\cocabb}}
\newcommand{\dlaxcoc}{\txt{-lax\cocabb}}
\newcommand{\cart}{\txt{cart}}
\newcommand{\laxcart}{\txt{laxcart}}
\newcommand{\dcart}{\txt{-cart}}
\newcommand{\dlaxcart}{\txt{-laxcart}}

\newcommand{\CatIsl}[1]{\Cat_{\infty/#1}}
 \newcommand{\CatIcart}[1]{\CatIsl{#1}^{\cart}}
 \newcommand{\pCatIcart}[1]{(\CatIcart{#1})}
%\newcommand{\CatIcart}[1]{\Cart(#1)}
%\newcommand{\pCatIcart}[1]{\CatIcart{#1}}
\newcommand{\CatIcartoplax}[1]{\pCatIcart{#1}_{\oplax}}
\newcommand{\CatIladj}[1]{\CatIcartoplax{#1}^{\ladj}}

% \newcommand{\CatIcoc}[1]{\Coc(#1)}
%\newcommand{\pCatIcoc}[1]{\CatIcoc{#1}}
\newcommand{\CatIcoc}[1]{\CatIsl{#1}^{\coc}}
\newcommand{\pCatIcoc}[1]{(\CatIcoc{#1})}
\newcommand{\CatIcoclax}[1]{\pCatIcoc{#1}_{\lax}}
\newcommand{\CatIradj}[1]{\CatIcoclax{#1}^{\radj}}

\newcommand{\CatIdcoc}[2]{\CatIsl{#1 \times #2}^{#2\dcoc}}
\newcommand{\CatIrdcoc}[2]{\CatIsl{#1 \times #2}^{#1\dcoc}}
\newcommand{\CatIdcocBC}{\CatIdcoc{\mathcal{B}}{\mathcal{C}}}
\newcommand{\CatIdcart}[2]{\CatIsl{#1 \times #2}^{#2\dcart}}
\newcommand{\CatIdcartBC}{\CatIdcart{\mathcal{B}}{\mathcal{C}}}
\newcommand{\CatIrdcart}[2]{\CatIsl{#1 \times #2}^{#1\dcart}}

\newcommand{\CatIdcocdcart}[2]{\CatIsl{#1 \times #2}^{#1\dcart,#2\dcoc}}
\newcommand{\CatIdcocdcartBC}{\CatIdcocdcart{\mathcal{B}}{\mathcal{C}}}
\newcommand{\pCatIdcocdcart}[2]{(\CatIdcocdcart{#1}{#2})}
\newcommand{\CatIdcocLdcart}[2]{\pCatIdcocdcart{#1}{#2}_{#1\doplax}}
\newcommand{\CatIdcocLdcartBC}{\CatIdcocLdcart{\mathcal{B}}{\mathcal{C}}}
\newcommand{\CatILdcocdcart}[2]{\pCatIdcocdcart{#1}{#2}_{#2\dlax}}
\newcommand{\CatILdcocdcartBC}{\CatILdcocdcart{\mathcal{B}}{\mathcal{C}}}

\newcommand{\CatIcLcladj}[2]{\CatIdcocLdcart{#1}{#2}^{#1\dladj}}
\newcommand{\CatILccladj}[2]{\CatILdcocdcart{#1}{#2}^{#1\dladj}}
\newcommand{\CatIccladj}[2]{\pCatIdcocdcart{#1}{#2}^{#1\dladj}}
\newcommand{\CatIcLcladjBC}{\CatIcLcladj{\mathcal{B}}{\mathcal{C}}}
\newcommand{\CatILccladjBC}{\CatILccladj{\mathcal{B}}{\mathcal{C}}}
\newcommand{\CatIccladjBC}{\CatIccladj{\mathcal{B}}{\mathcal{C}}}

\newcommand{\CatILccradj}[2]{\CatILdcocdcart{#1}{#2}^{#2\dradj}}
\newcommand{\CatIcLcradj}[2]{\CatIdcocLdcart{#1}{#2}^{#2\dradj}}
\newcommand{\CatIccradj}[2]{\pCatIdcocdcart{#1}{#2}^{#2\dradj}}
\newcommand{\CatILccradjBC}{\CatILccradj{\mathcal{B}}{\mathcal{C}}}
\newcommand{\CatIcLcradjBC}{\CatIcLcradj{\mathcal{B}}{\mathcal{C}}}
\newcommand{\CatIccradjBC}{\CatIccradj{\mathcal{B}}{\mathcal{C}}}

\newcommand{\sSetsc}{\sSet^{\mathrm{sc}}}
\newcommand{\sCat}{\Cat_{\Delta}}
\newcommand{\Nsc}{\mathrm{N}_{\mathrm{sc}}}
\newcommand{\Csc}{\mathfrak{C}_{\mathrm{sc}}}
\newcommand{\Gtimes}{\otimes^{\lax}}

\newcommand{\Fcoc}{\mathfrak{F}^{\coc}}
\newcommand{\Fcart}{\mathfrak{F}^{\cart}}

%\renewcommand{\itcatl}{($\infty$,2)-categorical}
\newcommand{\xF}{\mathbb{F}}

\newcommand{\rep}{\txt{rep}}
\newcommand{\corep}{\txt{corep}}

\newcommand{\oSPAN}{\overline{\SPAN}}
\newcommand{\SPANp}{\vphantom{\SPAN}\smash{\SPAN}^{+}\!}
\newcommand{\Spanp}{\Span^{+}}
\newcommand{\oSPANp}{\vphantom{\SPAN}\smash{\oSPAN}^{+}\!}
\newcommand{\bbS}{\bbSigma}
\newcommand{\hbbS}{\widehat{\bbS}}
\newcommand{\Dinjop}{\Dop_{\txt{inj}}}

%\newcommand{\itcat}{$(\infty,2)$-category}
\newcommand{\itcatl}{$(\infty,2)$-categorical}
\theoremstyle{definition}
\newlength{\perspective}
\newcommand{\Bispan}{\txt{Bispan}}
\newcommand{\BISPAN}{\txt{BISPAN}}
%\newcommand{\CAT}{\txt{CAT}}
%\newcommand{\FUN}{\txt{FUN}}
%\newcommand{\MAP}{\txt{MAP}}
%\newcommand{\ADJ}{\txt{ADJ}}
%\newcommand{\CATI}{\CAT_{\infty}}
%\newcommand{\CatIT}{\Cat_{(\infty,2)}}
\newcommand{\Dscr}{\mathcal{D}}
\newcommand{\Cscr}{\mathcal{C}}
\newcommand{\Escr}{\mathcal{E}}
\newcommand{\SH}{\txt{SH}}
\newcommand{\Fscr}{\mathcal{F}}
\newcommand{\Gscr}{\mathcal{G}}
\newcommand{\Sch}{\mathrm{Sch}}
\newcommand{\all}{\txt{all}}
\newcommand{\fet}{\txt{f\'et}}
\newcommand{\Ccal}{\mathcal{C}}
\newcommand{\Dcal}{\mathcal{D}}
\newcommand{\sm}{\mathrm{sm}}
\newcommand{\smqp}{\mathrm{smqp}}
\newcommand{\Fin}{\mathrm{Fin}}
\newcommand{\Kscr}{\mathcal{K}}
\newcommand{\ostar}{\circledast}
\newcommand{\fin}{\mathrm{fin}}
%\newcommand{\ev}{\mathrm{ev}}
\newcommand{\FinEt}{\mathrm{FinEt}}
%\usepackage{mathrsfs}

\newcommand{\dlpullback}{\arrow[phantom]{dr}[very near
  start,description]{\lrcorner}}


%\newcommand{\lax}{\txt{lax}}
%\newcommand{\colax}{\txt{colax}}
%\newcommand{\pcolax}{\txt{(co)lax}}

\usepackage{extarrows}
\newcommand{\longequal}{\xlongequal{\,\,}}

%\newcommand{\twop}{2\txt{-op}}
\newcommand{\Frpadj}{F\txt{-rpreadj}}
\newcommand{\Fradj}{F\txt{-radj}}
\newcommand{\Lpdist}{L\txt{-predist}}
\newcommand{\Ldist}{L\txt{-dist}}
\newcommand{\Lcart}{L\txt{-cart}}
\newcommand{\Lcodist}{L\txt{-codist}}
\newcommand{\Ladj}{L\txt{-adj}}
\newcommand{\Lladj}{L\txt{-ladj}}
\newcommand{\fmnd}{\mathfrak{mnd}}
\newcommand{\Mnd}{\txt{Mnd}}
%\newcommand{\ladj}{\txt{ladj}}
%\newcommand{\radj}{\txt{radj}}

\newcommand{\act}{\txt{act}}
\usepackage{graphicx}
\newcommand{\lmodarr}{\mathrel{%
    \raisebox{0.1em}{%
      \scalebox{0.6}{%
        \rotatebox[origin=c]{90}{$\curvearrowleft$}}}}%
}
\newcommand{\rmodarr}{\mathrel{%
    \raisebox{0.1em}{%
      \scalebox{0.6}{%
        \rotatebox[origin=c]{-90}{$\curvearrowright$}}}}%
}
\newcommand{\ract}[2]{{#1}^{\hspace{0.05em}\rmodarr\hspace{0.05em} #2}}
\newcommand{\uract}[2]{\ract{\uc{#1}}{\uc{#2}}}
\newcommand{\ractMC}{\ract{\uc{M}}{\uc{C}}}
\newcommand{\ractNC}{\ract{\uc{N}}{\uc{C}}}  
\newcommand{\lact}[2]{{}^{#2 \hspace{0.05em}\lmodarr\hspace{0.05em}}{#1}}
\newcommand{\ulact}[2]{\lact{\uc{#1}}{\uc{#2}}}
\newcommand{\lactMC}{\lact{\uc{M}}{\uc{C}}}
\newcommand{\lactNC}{\lact{\uc{N}}{\uc{C}}}
\newcommand{\bact}[3]{{}^{#2 \hspace{0.05em}\lmodarr\hspace{0.05em}}{#1}^{\hspace{0.05em}\rmodarr\hspace{0.05em} #3}}
\newcommand{\ubact}[3]{\bact{\uc{#1}}{\uc{#2}}{\uc{#3}}}
\newcommand{\oV}{\ec{V}}
\DeclareMathOperator{\Nat}{Nat}
%\DeclareMathOperator{\Tw}{Tw}

\newcommand{\FunRM}{\Fun_{\RM}}
\newcommand{\FunBM}{\Fun_{\BM}}
\newcommand{\FunLM}{\Fun_{\LM}}
\newcommand{\FunRMC}{\FunRM^{\uc{C}}}
\newcommand{\FunLMC}{\FunLM^{\uc{C}}}

\newcommand{\Yo}{\mathsf{y}}

\newcommand{\PSh}{\mathsf{P}}
\newcommand{\PSeg}{\PSh_{\Seg}}
\newcommand{\PCS}{\PSh_{\CSeg}}
\newcommand{\PV}{\PSh_{\mathcal{V}}}


\crefformat{equation}{(#2#1#3)}



\newcommand{\ord}{\textup{\textrm{ord}}}
\newcommand{\und}{\textup{\textrm{u}}}

%\usepackage{mathrsfs}
\usepackage[scaled=.98]{BOONDOX-uprscr}

\DeclareSymbolFont{bbold}{U}{bbold}{m}{n}
\DeclareSymbolFontAlphabet{\mathbbold}{bbold}
\newcommand{\bbone}{\mathbbold{1}}

\newcommand{\BB}{\mathsf{B}}
\newcommand{\Bone}{\BB\bbone}


\newcommand{\eMap}{\catname{MAP}}%{\textbf{\textsf{Map}}}
\newcommand{\eFun}{\catname{FUN}}%{\mathbb{F}\textup{\textsf{un}}}
\newcommand{\FunV}{\eFun_{\mathcal{V}}}
\newcommand{\Bimod}{\catname{Bimod}}
\newcommand{\LCat}{\widehat{\Cat}}
\newcommand{\hV}{\widehat{\mathcal{V}}}
\newcommand{\ec}[1]{\mathcal{#1}}
\newcommand{\uc}[1]{\textup{\textsf{#1}}}

\newcommand{\LM}{\catname{LM}}
\newcommand{\RM}{\catname{RM}}
\newcommand{\BM}{\catname{BM}}
\newcommand{\BMnX}{\BM_{n,\bX}}
\newcommand{\Ass}{\catname{Ass}}
\newcommand{\AssX}{\Ass_{X}}
\newcommand{\AnMnd}{\catname{AnMnd}}
\newcommand{\AnFun}{\catname{AnFun}}
\newcommand{\AnEnd}{\catname{AnEnd}}

\DeclareMathOperator{\ob}{ob}
\newcommand{\Comm}{\catname{Comm}}
\newcommand{\Assoc}{\catname{Assoc}}
\newcommand{\opd}{\txt{opd}}
\newenvironment{todolist}{\begingroup\color{red}TO
  DO:\begin{itemize}}{\end{itemize}\endgroup}

\newcommand{\bbL}{\bbLambda}
\newcommand{\bbLn}{\bbL_{/[n]}}
\newcommand{\Lop}{\bbLambda^{\op}}
\newcommand{\Lopn}{\bbLn^{\op}}
\newcommand{\wL}{\widehat{\bbL}}
\newcommand{\wLop}{\wL^{\op}}


\newcommand{\To}{\Rightarrow}

\newcommand{\uA}{\uc{A}}
\newcommand{\uB}{\uc{B}}
\newcommand{\uC}{\uc{C}}
\newcommand{\uD}{\uc{D}}
\newcommand{\uE}{\uc{E}}
\newcommand{\uF}{\uc{F}}
\newcommand{\uG}{\uc{G}}
\newcommand{\uH}{\uc{H}}
\newcommand{\uI}{\uc{I}}
\newcommand{\uJ}{\uc{J}}
\newcommand{\uK}{\uc{K}}
\newcommand{\uL}{\uc{L}}
\newcommand{\uM}{\uc{M}}
\newcommand{\uN}{\uc{N}}
\newcommand{\uO}{\uc{O}}
\newcommand{\uP}{\uc{P}}
\newcommand{\uQ}{\uc{Q}}
\newcommand{\uR}{\uc{R}}
\newcommand{\uS}{\uc{S}}
\newcommand{\uT}{\uc{T}}
\newcommand{\uU}{\uc{U}}
\newcommand{\uV}{\uc{V}}
\newcommand{\uW}{\uc{W}}
\newcommand{\uX}{\uc{X}}
\newcommand{\uY}{\uc{Y}}
\newcommand{\uZ}{\uc{Z}}
\newcommand{\eA}{\ec{A}}
\newcommand{\eB}{\ec{B}}
\newcommand{\eC}{\ec{C}}
\newcommand{\eD}{\ec{D}}
\newcommand{\eE}{\ec{E}}
\newcommand{\eM}{\ec{M}}
\newcommand{\eN}{\ec{N}}
\newcommand{\eO}{\ec{O}}
\newcommand{\eP}{\ec{P}}
\newcommand{\eQ}{\ec{Q}}
\newcommand{\eV}{\ec{V}}
\newcommand{\eW}{\ec{W}}
\newcommand{\eX}{\ec{X}}
\newcommand{\eY}{\ec{Y}}
\newcommand{\eZ}{\ec{Z}}

\newcommand{\bfc}{\textbf{\textup{c}}}
\newcommand{\bfphi}{\boldsymbol{\phi}}
\newcommand{\bfpsi}{\boldsymbol{\psi}}
\newcommand{\bfd}{\textbf{\textup{d}}}
\newcommand{\bfX}{\textbf{\textup{X}}}
\newcommand{\bfY}{\textbf{\textup{Y}}}
\newcommand{\huM}{\widehat{\uM}}

\newcommand{\oMorL}{\oMor^{\txt{Lur}}}
\newcommand{\MorL}{\Mor^{\txt{Lur}}}

\ifRGH@titlepage
\makeatletter
\renewcommand{\maketitle}[0]{%
  \cleardoublepage%
  {%
  \sffamily % previously: \sffamily (sans serif)
  %\begin{fullwidth}%
  %make changes to author's name:
 \fontsize{14}{20}\selectfont\par\noindent\textcolor{black}{\expandafter\MakeUppercase\expandafter{\@author}}%
  \vspace{11.5pc}%
  %make changes to Title:
  \fontsize{20}{28}\selectfont\par\noindent\textcolor{black}{\expandafter\MakeUppercase\expandafter{\@title}}%
  \vfill%
  %make changes to stuff below title
  \fontsize{12}{16}\selectfont\par\noindent{
  \hfill  \@date}
  %\end{fullwidth}%
  }
  \thispagestyle{empty}%
  \clearpage%
}
\makeatother
\fi

% \newtheoremstyle{assump}%
%   {3pt}% Space above
%   {3pt}% Space below
%   {}% Body font
%   {}% Indent amount
%   {\bfseries\color{red}}% Theorem head font
%   {\textcolor{red}{.}}% Punctuation after theorem head
%   {.5em}% Space after theorem head
%   {}% Theorem head spec
% \theoremstyle{assump}
% \newtheorem{assumption}{Assumption}

\newcommand{\Sing}{\catname{Sing}}
\newcommand{\Nrv}{\mathrm{N}}
\newcommand{\Ccat}{\mathrm{C}}
\newcommand{\Ncoh}{\mathfrak{N}}
\newcommand{\Ccoh}{\mathfrak{C}}

\newcommand{\QCat}{\catname{QCat}}
\newcommand{\Kan}{\catname{Kan}}


\newcommand{\bT}{\boldsymbol{\Theta}}
\newcommand{\bTnop}{\bT_{n}^{\op}}