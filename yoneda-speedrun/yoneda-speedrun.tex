\documentclass[12pt]{article}

\input macros

\begin{document}

\title{\Large The Yoneda Lemma Speedrun}
\author{\large Pete Su}
\date{\large 31 October 2021}

\maketitle

\section{The Big Picture}

The Yoneda Lemma is a basic and beloved result in category theory. In most treatments it
shows up fairly early in the books and lecture notes on the subject. Its
statement is also deceivingly compact because all of its content is buried inside layers
of abstraction and notation that would have been built up while working through the
conceptual basis of category theory.

In particular the result ties together the following sets of ideas:

\begin{itemize}

\item Categories (objects and arrows).
\item Categories and sets
\item Functors
\item Natural transformations
\item Functor categories

\end{itemize}

\noindent
What most textbooks and notes do is to spend several chapters and sections defining and
giving examples and intuition about what all these things are, and then telling you what
the Lemma says. Then to parse the Lemma you have to flip back and forth through a hundred 
pages of exposition to remember what all the symbols mean.

I am going to do the following dumb thing: I am going to state the result in several
different kinds of notation and then define the only the pieces we need to make that notation make sense as fast as possible.
In the spirit of video game speedruns, it will be just what is absolutely necessary, and hopefully save us some page flipping.

Note that I am not a mathematician or a category theory expert. I'm just a guy trying to
figure out the notation. So everything in this document is probably wrong.

\section{Statement of the Lemma}

To me the hardest thing about understanding this result is unwrapping the notation used to state it.
There are a ton of different styles, all of which layer multiple ideas on top of each other in a way that
makes the statement of the lemma very compact textually and very dense conceptually. Here are a few examples.

\begin{lemma}[Yoneda]   
\label{yoneda1}
Let $\CC$ be a locally small category.  Then
% 
\begin{equation}        
\label{eq:yoneda}
\pshf{\CC}(\h_X, F)
\iso
F(X)
\end{equation}
% 
naturally in $X \in \CC$ and $F \in \pshf{\CC}$.  
\end{lemma}

\begin{lemma}[Yoneda]\label{yoneda2} Let $\CC$ be a locally small category and $X \in
\CC$. Then for any functor $F : \CC \to \Set$ there is a bijection
$$
\Hom(\CC(X,-), F) \iso FX
$$
that associates a natural transformation $\alpha:\CC(X,-) \Rightarrow F$ with the element
$\alpha_X(1_X) \in FX$. Moreover, this correspondence is natural in both $X$ and $F$.
\end{lemma}

\noindent This verison introduces the $\Nat$ notation for the set of natural transforms.

\begin{lemma}[Yoneda]\label{yoneda3} For any locally small category $\CC$, object $X
\in \CC$, and functor $F:\CC \to \Set$ we have  $\Nat(\CC(X,-),F) \iso FX$
both naturally in $X \in \CC$ and $F \in [\CC, \Set]$
\end{lemma}

\noindent You can also write that one the dual way:
\begin{lemma}[Yoneda]\label{yoneda4} For any locally small category $\CC$, object
$X \in \CC$, and functor $F:\CC^{\op} \to \Set$ we have  $\Nat(\CC(-,X),F)
\iso FX$ both naturally in $X \in \CC$ and $F \in [\CC^{\op}, \Set]$
\end{lemma}

\noindent
This version has some different notation and terminology:

\begin{lemma}[Yoneda]\label{yoneda5}
 Let $\cat{C}$ be a category, let $X$ be an object of $\cat{C}$, and let $F:\cat{C}^\op\to\Set$ be a presheaf on $\cat{C}$. 
 Consider the map 
 $$
 \Hom_{[\cat{C}^\op,\Set]} \bigl(\Hom_\cat{C} (-,X) , F \bigr) \longrightarrow FX
 $$
 assigning to a natural transformation $\alpha:\Hom_\cat{C} (-,X)\Rightarrow F$ the element $\alpha_X(\id_X)\in FX$, which is the value of the component $\alpha_X$ of $\alpha$ on the identity at $X$. 

 This assignment is a bijection, and it is natural both in $X$ and in $F$.
\end{lemma}

\noindent
This version peels away some of the layers:

\begin{lemma}[Yoneda]\label{yoneda6}
Let $\CC$ be a locally small category, let $X$ be an object of $\CC$, and let $F: \CC \to \Set$ be a functor. Then

(i) There is a bijection between the set of natural transformations from $\CC(X, -)$ to $F$ and the elements of $FX$

(ii) The bijection in (i) is natural in both $F$ and $X$.
\end{lemma}

\noindent
These examples cover the range of different notational schemes used to write down this result. I've made them look a bit more uniform than they do in real life just by using the same style of typesetting for all of them. But, there is still a lot of notation flying around here. So let's get into it.

\section{Categories}

Categories have a deliciously multi-part definition.

\begin{defn}
\label{category}
A {\it category} $\CC$ consists of:
% 
\begin{itemize}
\item 
A collection of {\it objects} that we will denote with upper case letters $X, Y, Z, ...$, and so on.  
We call this collection $\objc$. Traditionally people write just $\CC$ to mean $\objc$ when the context makes clear what is going on.
\item
A collection of {\it arrows} denoted with lower case letters $f, g, h, ...$, and so on. Other names for {\it arrows} include {\it mappings} or {\it functions} or {\it morphims}. We will call this collection $\Arrows(\CC)$.
\end{itemize}%
The objects and arrows of a category satisfy:
\begin{itemize}
\item
Each arrow $f$ maps one object $A \in \objc$ to another object $B \in \objc$ and we denote this by writing $f: A \to B$. Here $A$ is called the {\it domain} of $f$ and $B$ the {\it codomain}.

\item
For each pair of arrows $f:A \to B$ and $g : B \to C$ we can form a new arrow $g \circ f: A \to C$ called the {\it composition} of $f$ and $g$. This is also sometimes written $gf$.
\item
For each $A \in \objc$ there is a function $1_A: A \to A$, called the {\it identity} at $A$ that
maps $A$ to itself. Sometimes this object is also written as $\id_A$.
\end{itemize}
Finally, we have the last two rules:

\begin{itemize}
\item For any $f: A \to B$ we have that $1_B \circ f$ and $f \circ 1_A$ are both equal to $f$. 
\item Given $f: A \to B$, $g: B \to C$, $h: C\to D$ we have that $(h \circ g) \circ f = h \circ (g \circ f)$, or alternatively $(hg)f$ = $h(gf)$. What this also means is that we can always just write $hgf$ if we want.
\end{itemize}%
\end{defn}%
\noindent
We will call the collection of all arrows from $A$ to $B$ $\Arrows_{\CC}(A, B)$. 
We will usually write $\Arrows(A,B)$ when it's clear what category $A$ and $B$ come from. 
Traditionally people write $\Hom(A, B)$ or $\Hom_{\CC}(A,B)$, or just $\CC(A,B)$ to mean $\Arrows(A,B)$. Here ``$\Hom$'' stands for homomorphism, which is a word that often means mappings that preserve some kind of structure.

At this point every category theory book will list a few dozen examples of categories that show up in various areas of math. These will have strangely truncated names like $\cat{Measu}$ or $\cat{Htpy}$ or $\cat{Matr}$%
\footnote{The general fear of readable names in the mathematical literature is fascinating to me, having spent most of my life trying to think up readable names in program source code. In the modern world of \LaTeX\ there is no reason to limit names to being only four or five random letters in length. Thus, I have done the unthinkable and written many names out in full.}%
and will be typeset in a different font. For these short notes I think the only specific category that we will run into is $\cat{Set}$, where the objects are sets and the arrows are mappings between sets.

Speaking of sets, the definition of categories we were careful about not calling anything a {\it set}. This is because some categories involve collections of things that are too ``large'' to be called sets and not get into set theory trouble. Here are two more short definitions about this that we will need.

\begin{defn}
A category $\CC$ is called {\it small} if $\Arrows(\CC)$ is a set.
\end{defn}

\begin{defn}
A category $\CC$ is called {\it locally small} if $\Arrows_{\CC}(A,B)$ is a set for every $A, B \in \CC$.
\end{defn}%
\noindent
For the rest of this note we will only deal with locally small categories, since in the the setup for the Lemma, we are given a category $\CC$ that is locally small.

Finally, one more notion that we'll need later is the idea of an {\it isomorphism}.

\begin{defn}
An arrow $f: X \to Y$ in a category $\CC$ is an {\it isomorphism} if there exists an arrow $g: B \to A$ 
such that $gf = 1_X$ and $fg = 1_Y$. We say that the objects $X$ and $Y$ are {\it isomorphic} 
to each other whenever there exists an isomorphism between them. 
If two objects in a category are isomorphic to each other we write $X \iso Y$.
\end{defn}
\noindent
Note that in the category $\cat{Set}$ the isomorphisms are exactly the invertible mappings between sets.

\medskip
As we navigate our way from basic categories up to the statement of the lemma we will travel through multiple layers conceptual abstraction. Functors are the first step up this ladder.

\section{Functors}

Functors are the {\it arrows between categories}. That is, if you were to define the category where the objects were all categories of some kind then the arrows would be functors. Of course you have to be careful about how you do this to not get into set theory trouble, but if all the categories are small it works out.

\begin{defn}
Given two categories $\CC$ and $\DD$ a {\it functor} $F : \CC \to \DD$ is defined by two sets of parallel rules. First:
\begin{itemize}
\item For each object $X \in \CC$ we assign an object $F(X) \in \DD$.
\item For each arrow $f: X \to Y$ in $\CC$ we assign an arrow $F(f): F(X) \to F(Y)$ in $\DD$.
\end{itemize}
\noindent
So $F$ maps objects in $\CC$ to objects in $\DD$ and maps arrows in $\CC$ to arrows in $\DD$ that have the appropriate domains and codomains. That is, the domain of $F(f)$ is $F$ applied to the domain of $f$, and the codomain of $F(f)$ is $F$ applied to the codomain of $f$. In addition the following must be true:
\begin{itemize}
\item If $f:X \to Y$ and $g: Y \to Z$ are arrows in $\CC$ then $F(g \circ f) = F(g) \circ F(f)$ (or $F(gf) = F(g)F(f)$).
\item For every $X \in \CC$ it is the case that $F(1_X) = 1_{F(X)}$.
\end{itemize}

\end{defn}
\noindent
So, a functor consists of two mappings, one on objects and one on arrows. And, these mappings preserve all of the structure of a category, 
namely domains and codomains, composition, and identities.

We'll define one more notation for convenience here

\begin{defn}
Given any functor $F: \CC \to \DD$ from a category $\CC$ to another category $\DD$ and an object $X \in \CC$ we may write $F X$ to mean $F(X)$. This is analogous to the more compact notation for composition of arrows above.
\end{defn}
\noindent
Some of the statements of the Lemma use this notation for both arrows and functors.

Functors are notationally confusing because we are using one letter to denote two mappings. So if $F: \CC \to \DD$ and $X \in \CC$ then $F(X)$ is the functor applied to the object, which will be an object in $\DD$. On the other hand, if $x : A \to B$ is an arrow in $\CC$ then $F(x)$ is an arrow in $\DD$. This seems obvious from the definition but in proofs and calculations the notations will often shift back and forth without enough context and can be very confusing.

Functors appear in the Lemma in a couple of places. The core content of the result has to do with when one set of functors is isomorphic (in some sense) to another set of functors. To see how we study that question we need go up one more step in our abstraction ladder and ask: what do arrows between functors look like?

\section{Natural Transformations}

Natural transformations map functors to functors in the same way that arrows in a category map objects to objects. The definition is a bit more complicated and abstract, but that's what it ultimately means.

\begin{defn}
 Let $\CC$ and $\DD$ be categories, and let $F$ and $G$ be functors $\CC \to \DD$. To define a \emph{natural transformation} $\alpha$ from $F$ to $G$, 
we assign to each object $X$ of $\CC$, an arrow $\alpha_X:FX\to GX$ in $\DD$, called the \emph{component} of $\alpha$ at $X$. In addition, for each arrow $f:X\to Y$ of $\CC$, the following diagram has to commute:
  $$
  \begin{tikzcd}
   FX \ar{r}{Ff} \ar{d}{\alpha_X} & FY \ar{d}{\alpha_{Y}} \\
   GX \ar{r}{Gf} & GY
  \end{tikzcd}
  $$
\end{defn}
\noindent
This is the first commutative diagram that I've tossed up. There is no magic here. The idea is that you get the same result no matter which way you travel through the diagram. So here $\alpha_Y \circ F$ and $G \circ \alpha_X$ must be equal.

We denote natural transformations as double arrows, $\alpha: F \Rightarrow G$, to distinguish them in diagrams from functors (which are denoted by single arrows):
 $$
 \begin{tikzcd}[column sep=large]
  \CC \ar[bend left,""{below,name=F}]{r}{F} \ar[bend right,""{above,name=G}]{r}[swap]{G} & \DD
  \ar[Rightarrow,from=F,to=G,"\,\alpha"]
 \end{tikzcd}
 $$

You might wonder to yourself: what makes natural transformations ``natural''? The answer appears to be related to the fact that you can construct them from {\it only} what is given to you in the categories at hand. The natural transformation takes the action of $F$ on $\CC$ and lines it up exactly with the action of $G$ on $\CC$. No other assumptions or conditions are needed. In this sense they define a relationship between functors that is just sitting there in the world no matter what, and thus ``natural''. Another apt way of putting this is that natural transformations give a canonical way of mapping between the images of two functors.

\section{Functor Categories}

\section{Duals}

\section{The Full Stack}

\section{Notes}

Category theory loves overloaded notation, so I've done it too. Here is a list of some examples.

No two writers seem to agree on what basic notations to use for basic concepts. So I've made up my own shit too.

\section{Who I Stole From}

\small
\begin{itemize}
\item \url{https://arxiv.org/abs/1912.10642}

\item \url{https://math.jhu.edu/~eriehl/context/}

\item \url{https://arxiv.org/abs/1612.09375}

\item \url{https://www.logicmatters.net/2018/01/29/category-theory-a-gentle-introduction/}

\item \url{http://pi.math.cornell.edu/~dmehrle/notes/partiii/cattheory_partiii_notes.pdf}

\item \url{http://www.julia-goedecke.de/pdf/CategoryTheoryNotes.pdf}

\end{itemize}

And of course, a bit from

\url{https://en.wikipedia.org/wiki/Categories_for_the_Working_Mathematician}

\end{document}
