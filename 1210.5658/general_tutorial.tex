\documentclass{amsart}
\usepackage{amssymb,bussproofs,pgf,float,listings,mdframed}
\usepackage{color,graphicx}
\usepackage[colorlinks=true
,urlcolor=blue
,anchorcolor=blue
,citecolor=blue
,filecolor=blue
,linkcolor=blue
,menucolor=blue
,linktocpage=true]{hyperref}
\hypersetup{
bookmarksopen=true,
bookmarksnumbered=true,
bookmarksopenlevel=10
}
%\usepackage{amssymb}
%\usepackage{amsmath,amsthm,amscd,amssymb}
\usepackage[noBBpl]{mathpazo}
\linespread{1.1}
%\usepackage[letterpaper, margin=1.2in]{geometry}
\usepackage[papersize={6.25in, 10in}, left=.5in, right=.5in, top=1in, bottom=1in]{geometry}
\tolerance=4000
\hbadness=2000
%%%0

\usepackage{tikz}
\usetikzlibrary{fit}
\usetikzlibrary{shapes}
\usetikzlibrary{arrows}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{positioning}

\tikzset{mylabel/.style={font=\footnotesize}}
\tikzset{mylabelsmall/.style={font=\tiny}}
\tikzset{mymidlabel/.style={fill=white,font=\footnotesize}}
\tikzset{->-/.style={decoration={
      markings,
      mark=at position #1 with {\arrow{>}}},postaction={decorate}}}

\definecolor{mydark}{RGB}{73,68,62}%{128,129,135}
\definecolor{mymedium}{RGB}{128,129,135}%{167,170,171}
\definecolor{mylight}{RGB}{226,226,226}

\tikzstyle{smallcoqbox} = [fill=mylight!50, rectangle, inner sep=10pt, inner ysep=20pt]

\lstset{basicstyle=\small\ttfamily,breaklines=true}
\lstset{numberstyle=\scriptsize}
\lstnewenvironment{coqcode}{\lstset{frame=single,backgroundcolor=\color{mylight},framerule=0pt}}{}

\newcommand{\CC}{\mathcal{C}}
\renewcommand{\AA}{\mathcal{A}}
\newcommand{\BB}{\mathcal{B}}
\newcommand{\EE}{\mathcal{E}}
\newcommand{\FF}{\mathcal{F}}
\newcommand{\GG}{\mathcal{G}}
\newcommand{\DD}{\mathcal{D}}
\newcommand{\UU}{\mathcal{U}}
\newcommand{\VV}{\mathcal{V}}
\newcommand{\NN}{\mathcal{N}}
\newcommand{\WW}{\mathcal{W}}
\newcommand{\XX}{\mathcal{X}}
\newcommand{\MM}{\mathcal{M}}
\newcommand{\YY}{\mathcal{Y}}
\newcommand{\OO}{\mathcal{O}}
\newcommand{\TT}{\mathcal{T}}
\renewcommand{\SS}{\mathcal{S}}
\newcommand{\RR}{\mathcal{R}}
\newcommand{\PP}{\mathcal{P}}
\newcommand{\LL}{\mathcal{L}}
\newcommand{\groupoids}{\textnormal{\textbf{Gpd}}}
\newcommand{\topcat}{\textnormal{\textbf{Top}}}
\newcommand{\mypath}{\textnormal{\textbf{Path}}}

\newcommand{\hprop}{\textnormal{\texttt{hProp}}}
\newcommand{\hset}{\textnormal{\texttt{hSet}}}
\renewcommand{\hom}{\textnormal{Hom}}
\newcommand{\myequiv}{\simeq}
\newcommand{\limit}{\varprojlim}
\newcommand{\colimit}{\varinjlim}
\newcommand{\myemph}[1]{\textnormal{\textbf{#1}}}
\newcommand{\sets}{\textnormal{\textbf{Set}}}
\newcommand{\iso}{\cong}
\newcommand{\hocat}{\textnormal{\textbf{Ho}}}
\newcommand{\id}[1]{\textnormal{\texttt{Id}}_{#1}}
\newcommand{\app}{\textnormal{\texttt{app}}} 
\newcommand{\pair}{\textnormal{\texttt{pair}}} 
\newcommand{\Jelim}[1][]{\textnormal{\texttt{J}}_{#1}}
\newcommand{\nat}{\mathtt{N}}
\newcommand{\zero}{\mathtt{0}}
\newcommand{\rr}{\mathtt{r}}
\newcommand{\successor}{\mathtt{S}}
\newcommand{\rec}{\textnormal{\texttt{rec}}}
\newcommand{\RSigma}{\textnormal{\texttt{srec}}}
\newcommand{\weq}{\texttt{WEq}}
\newcommand{\judge}[2]{(#1)\quad #2}
\newcommand{\adjoint}{\dashv}
%     Update the information and uncomment if AMS is not the copyright
%     holder.
%\copyrightinfo{2012}{American Mathematical Society}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{xca}[theorem]{Exercise}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

\numberwithin{equation}{section}

\begin{document}
\newcounter{myi}
\setcounter{myi}{0}

% \title[short text for running head]{full title}
\title[Homotopy type theory]{Homotopy type theory and
  Voevodsky's univalent foundations}

%    Only \author and \address are required; other information is
%    optional.  Remove any unused author tags.

%    author one information
% \author[short version for running head]{name for top of paper}
\author[\'{A}. Pelayo]{\'{A}lvaro Pelayo}
\address{Washington University\\  
  Mathematics Department \\
  One Brookings Drive, Campus Box 1146\\
  St Louis, MO 63130, USA, AND School of Mathematics,
  Institute for Advanced Study\\
  Einstein Drive, Princeton\\
  NJ 08540 USA}
\email{apelayo@math.wustl.edu, apelayo@math.ias.edu}
\thanks{Pelayo is partly supported by NSF CAREER Award DMS-1055897, Spain 
Ministry of Science Grant MTM 2010-21186-C02-01, and 
Spain Ministry of Science Sev-2011-0087.  Pelayo also received support
from NSF Grant DMS-0635607 during the preparation of this paper.}
%    author two information
\author[M. A. Warren]{Michael A. Warren}
\address{School of Mathematics,
  Institute for Advanced Study\\
  Einstein Drive, Princeton\\
  NJ 08540 USA.}
\curraddr{}
\email{mwarren@math.ias.edu}
\thanks{Warren is supported by the Oswald Veblen Fund and also
  received support from NSF Grant DMS-0635607 during the preparation
  of this paper.}

%    \subjclass is required.
\subjclass[2010]{Primary 03-02. Secondary 03-B15, 68N18 and 55P99}

\date{20 Oct 2012}

\dedicatory{}

%    Abstract is required.
\begin{abstract}
 Recent discoveries have been made connecting
 abstract homotopy theory and the field of type theory from logic and
 theoretical computer science. This has given rise to a new field, which
 has been christened ``homotopy type theory''.  In this direction,
 Vladimir Voevodsky observed that it is possible to model type theory
 using simplicial sets and that this model satisfies an additional
 property, called the \emph{Univalence Axiom}, which has a number of
 striking consequences.  He has subsequently advocated a program, which
 he calls \emph{univalent foundations}, of developing mathematics
 in the setting of type theory with the Univalence Axiom and possibly
 other additional axioms motivated by the simplicial set model.  
 Because type theory possesses good computational properties, this
 program can be carried out in a computer proof assistant.  In this
 paper we give an introduction to homotopy type theory in Voevodsky's
 setting, paying attention to both theoretical and practical
 issues. In particular, the paper serves as an introduction to both
 the general ideas of homotopy type theory as well as to some of the
 concrete details of Voevodsky's work using the well-known proof
 assistant Coq.  The paper is written for a general audience of mathematicians
 with basic knowledge of algebraic topology; the paper does not assume any
 preliminary knowledge of type theory, logic, or computer science.
\end{abstract}

\maketitle

%    Text of article.

\section{Introduction}


Type theory is a branch of mathematical logic which developed out of
the work of Church \cite{Church:1933cl,Church:1940tu,Church:1941tc}
and which has subsequently found many
applications in theoretical computer science, especially in the theory
of programming languages \cite{Pierce:2002tp}.  For instance, the notion of
\emph{datatype} in programming languages derives from the type
theoretic notion of \emph{type}.  Recently, a number of deep and
unexpected connections between a form of type theory (introduced
by Martin-L\"{o}f
\cite{MartinLof:1998tw,MartinLof:1975tb,MartinLof:1982bn,MartinLof:1984tr}) and
homotopy theory have been discovered, opening the way to a new area of research in
mathematics and theoretical computer science which has recently been
christened \emph{homotopy type theory}.  Due to the nature of the mathematical
results in this area, we believe that there is great potential for the
future research in this area to have a considerable impact on a number
of areas of pure and applied mathematics, as well as on the practice
of mathematicians.

In 1998, Hofmann and Streicher \cite{Hofmann:1998ty} constructed a model
of Martin-L\"{o}f type theory in the category of
groupoids.  They also observed that the data of type theory
itself naturally gives rise to a kind of $\infty$-groupoid structure (although they did not prove this for any precise
definition of $\infty$-groupoid).  In 2001, Moerdijk
speculated that there should be some connection between Quillen model
categories and type theory.  Then between 2005 and 2006 Awodey
and Warren \cite{Awodey:2009bz,Warren:2006vf,Warren:2008ts}, and
Voevodsky \cite{Voevodsky:VSNHLC,Voevodsky:2009,Vo2012a,Vo2012} independently understood how to
interpret type theory using ideas from homotopy theory (in the
former case, using the general machinery of Quillen model categories
and weak factorization systems, and in the latter case using
simplicial sets).  Subsequently, around 2009, Voevodsky
\cite{Voevodsky:2009} realized that
the model of type theory in simplicial sets satisfies an additional
axiom, which he called the \emph{Univalence Axiom}, that is not in general
satisfied.  Crucially, satisfaction of the Univalence Axiom is a
property which distinguishes Voevodsky's model of type theory in
simplicial sets from the more familiar set theoretic model (it does
not hold in the latter).

These results and others (described in more detail below) give rise to
what might be called the \emph{univalent perspective}, wherein one
works with a kind of type theory augmented by additional axioms, such as the
Univalence Axiom, which are valid in the simplicial set model.  In
this approach one thinks of types as spaces or homotopy
types and, crucially, one is able to manipulate spaces directly
without having first to develop point set topology.\footnote{One
  should be careful here since the spaces
  under consideration should be suitably nice spaces (fibrant and
  cofibrant spaces in the language of homotopy theory) on the one
  hand.  On the other hand, when thinking of homotopy types one should
  not think of homotopy types living in the homotopy category, but
  rather homotopy types living (via their presentations as fibrant and
  cofibrant spaces) in the category of spaces (simplicial sets).}  Although
interesting in its own right, this perspective becomes significantly
more notable in light of the good computational properties of the
kind of type theory employed here.  In particular, type theory of
the sort considered here forms the underlying theoretical framework
of several computer proof assistants such as \emph{Agda} and
\emph{Coq} (see \cite{Coquand} and \cite{Bertot:2004uj},
respectively).  

In practical terms, this means that it is possible to
develop mathematics involving spaces in computer systems which are
capable of verifying the correctness of proofs and of providing some
degree of automation of proofs.  We refer the reader to
\cite{Simpson:2004bt} and \cite{Hales:2008ud} for two accounts of
computer proof assistants (and related developments) written for a
general mathematical audience.  

Voevodsky has, since his discoveries mentioned above, been advocating
the formalization of mathematics in proof assistants, as well as
greater interaction between the developers of computer proof
assistants and pure mathematicians. He has himself written thousands
of lines of code in the Coq proof assistant, documenting topics
ranging from the development of homotopy theoretic notions and proofs
of new results in type theory, to the formalization of the basics of
abstract algebra.

Voevodsky's univalent perspective, as detailed in his Coq files, is a
unique view of mathematics and we believe that it deserves to be more widely known.
Unfortunately, for a mathematician without some background in type
theory, homotopy theory and category theory, we believe that the
prospect of reading thousands of lines of Coq code is likely rather
daunting (indeed, it may be daunting even for those with the
prerequisites listed above).  In this paper we attempt to
remedy this by providing an introduction to both homotopy type theory
and the univalent perspective, as well as to some of the material contained
in Voevodsky's Coq files.  It is our hope that the reader who is not
interested in the Coq code, but who is curious about homotopy type
theory will benefit from an account of this field specifically
targeted at a general mathematical audience.  For those who are
interested in the Coq code, we believe that this paper can act as an
accessible introduction.  Indeed, it is our ultimate aim that this
paper will encourage other mathematicians to become involved
in this area and in the use of computer proof assistants in general.
This paper also serves as a guide to the  authors' recent on-going
work on $p$-adic arithmetic and $p$-adic integrable systems in Coq
\cite{PeVoWa2012}.

We believe that the timing of this article is perspicuous in part
because there is a Special Year devoted to Voevodsky's program
during the 2012-2013 academic year at the Institute for Advanced
Study. Further information on the activities of this program is
given in  Awodey, Pelayo and Warren \cite{AwPeWa2012}.

\subsubsection*{Disclaimers}

This article is aimed at mathematicians who want to understand the basics
of homotopy type theory and the univalent perspective. It is
written for a broad audience of readers who are not necessarily
familiar with type theory and homotopy theory. Because of the
introductory nature of the article we are less precise than one would
be in a research article.  This is especially true when it comes to
describing type theory and Coq, where we eschew excessive terminology
and notation in favor of a more informal approach.  For those readers
with the requisite background in logic and category theory who are
interested in a more detailed account we refer to \cite{Awodey:TTH}.  Needless
to say, the present article has no intention of being comprehensive,
it is merely an invitation to a new and exciting subject.

It is worth mentioning that there are already a number of introductions
to Coq available, see for instance \cite{Bertot:2004uj}, which are far
more comprehensive and precise than this article in their treatment of
the proof assistant itself.  However, such introductions inevitably
make use of features of the Coq system which do not enter into (or are
even incompatible with) the univalent perspective.  As such, we warn
the reader that this paper is \emph{not} a Coq tutorial: it is an
introduction to the univalent perspective which along the way
also describes some of the basic features of Coq.

Finally, Coq is not an automatic theorem prover, but rather an interactive
theorem prover: it helps one to verify the correctness of proofs which
are themselves provided by the user.\footnote{Technically, it \emph{is}
  possible to automate proofs to a large extent in Coq (via the built-in
\emph{tactics language}), but, aside
  from a minor amount of automation implicit in the ``tactics'' we
  employ below, we will not go into details regarding these features
  of Coq.  The interested reader might consult \cite{Chlipala:CP} for a good
  introduction to Coq which pays particular attention to automation.}

\section{Origins, basic aspects and current research} \label{sec:origins}

This section gives an overview of the origins of homotopy type
theory and Voevodsky's univalent perspective.  We assume that
readers are more familiar with algebraic topology than with type
theory (indeed, we expect that many readers may have not have been
exposed to \emph{any} type theory).  As such, we will introduce type
theory ---already with the homotopy theoretic interpretation of \cite{Awodey:2009bz,Voevodsky:2009} in mind--- by analogy with certain developments and constructions
in algebraic topology.  

This approach is admittedly anachronistic, but
we hope that it will serve as an accessible starting point for readers
coming from outside of type theory.  Along the way we will try to give
an idea of the historical development of the field.  However, we make
no attempt to provide a comprehensive history of homotopy theory or type theory.
For the early history of homotopy theory we refer to
\cite{Dieudonne:2009dv}.
%For the history of type theory we suggest [FIND REF].

Before starting with type theory it is perhaps worth remarking that
type theory (like set theory) is a logical theory which is given by a
collection of \emph{rules}.  Anyone interested in type theory
should at some point study these rules, but doing so is not
strictly necessary in order to give some flavor of the theory.  As
such, we choose to abstain from giving a formal presentation of type
theory.

\subsection{The homotopy theoretic interpretation of type theory}\label{sec:homotopy_interp}

Although the mathematical notion of \emph{type} first appears in
Russell's \cite{Russell:1903wn} work on the
foundations of mathematics, it was not until the work of Church
\cite{Church:1940tu} that type theory in its modern form was born.
Later, building on work by Curry \cite{Curry:1934vy}, Howard \cite{Howard:FTNC}, Tait
\cite{Tait}, Lawvere \cite{Lawvere:2006tl},
Scott \cite{Scott:1970vu} and others, Martin-L\"{o}f
\cite{MartinLof:1998tw,MartinLof:1975tb,MartinLof:1982bn,MartinLof:1984tr}
developed a generalization of Church's system which is now called
\emph{dependent} or \emph{Martin-L\"{o}f type theory}. We will be
exclusively concerned with this form of type theory and so the
locution ``type theory'' henceforth refers to this particular
system.\footnote{We caution the reader that there are indeed many
  different kinds of type theory.  Explicitly, we are concerned with
  the \emph{intensional} form of dependent type theory.}

The principal form of expression in type theory is the statement that
the \emph{term} $a$ is of
\emph{type} $A$, which is written as 
\begin{align*}
  a:A.
\end{align*}
There are a number of ways that the expression $a:A$ has traditionally
been motivated:
\begin{enumerate}
\item $A$ is a set and $a$ is an element of $A$.
\item $A$ is a problem and $a$ is a solution of $A$.
\item $A$ is a proposition and $a$ is a proof of $A$.
\end{enumerate}
Roughly, of the perspectives enumerated here,
the first is due to Russell \cite{Russell:1903wn}, the
second is due to Kolmogorov \cite{Kolmogoroff:1932wl}, and the third
---usually called the \emph{Curry-Howard correspondence}---
is due to Curry and Howard \cite{Howard:FTNC}.  We will say more about
these three motivations in the sequel.

The starting point for understanding the connections between homotopy
theory and type theory is to consider a fourth alternative to these
motivations:
\begin{enumerate}
\item[(4)] $A$ is a space and $a$ is a point of $A$.
\end{enumerate}
We will be intentionally vague about exactly what kinds of
spaces we are considering, but we recommend that readers have in mind,
e.g., topological spaces, (better yet) CW-complexes, or (still better yet)
Kan complexes (in which case, ``point'' means $0$-simplex).  The
remarkable thing about (4) is that it helps to clarify certain features of
type theory which originally seemed odd, or
even undesirable, from the point of view of the
interpretations (1) -- (3) above.  

In addition to the kinds of types and terms described above, we also
may consider types and terms with parameters.  These are usually called
\emph{dependent} types and terms.  E.g., when $B$ is a type, we might
have a type
\begin{align*}
  \judge{x:B}{E(x),}
\end{align*}
which is parameterized by $B$ (here $x$ is a variable).  In terms of the motivation (1) above
in terms of sets, we would think of this as a $B$-indexed family $(E_{x})_{x\in
  B}$.  From the homotopy theoretic point of view (4), we think of
such a type as describing a fibration $E\to B$ over the space $B$.
Similarly, we think of a parameterized term
\begin{align*}
  \judge{x:B}{s(x):E(x)}
\end{align*}
as a continuous section of the fibration $E\to B$.
\begin{figure}[htb]
  \begin{tikzpicture}[color=mydark, fill=mylight, line width=1pt]
    %% THE BASE SPACE  
    \filldraw (0,0) ellipse (1 and .5);
    \node (bb) at (1.75,0) {$\;B.$};
    %% THE TOTAL SPACE
    \filldraw (0,1.5) ellipse (1 and .5);
    % \clip (0,3) ellipse (1 and .5);
    % \clip (0,2) ellipse (1 and .5);
    \filldraw[color=mylight,opacity=5] (-1,1.5) rectangle (1,2.75);
    \draw[inner sep=0] (-1,1.48) to (-1,2.75);
    \draw (1,1.48) to (1,2.75);
    \draw[opacity=.5] (1,1.5) arc (0:180:1 and .5);
    \node[circle,fill=mydark,inner sep=0pt,minimum size=.75mm] at
    (-.5,0) {};
    \node[font=\tiny] at (-.35,.05) {$x$};
    \draw[opacity=.6] (-.5,1.45) to (-.5,2.75);
    \node[circle,fill=mydark,inner sep=0pt,minimum size=.75mm] at
    (-.5,1.7) {};
    \node[font=\tiny] at (-.2,1.7) {$s(x)$};
    
    \filldraw (0,2.75) ellipse (1 and .5);
    \draw[opacity=.5] (-.5,1.45) to (-.5,2.8);
    
    \node (ee) at (1.75,2.25) {$E$};
    \draw[->] (ee) to node[auto,swap] {$p$} (bb);
    \draw[->,bend right] (bb) to node[auto,swap] {$s$} (ee);
  \end{tikzpicture}

  \begin{tabular}[h!]{lr}
    \emph{type theory} &  \emph{homotopy theory}\\
    \hline
    $\judge{x:B}{E(x)}$ & $p:E\to B$ is a fibration over $B$\\
    $\judge{x:B}{s(x):E(x)}$ & $s$ is a section of $p$
  \end{tabular}
  \caption{Homotopy theoretic interpretation of dependent types and terms.}
\end{figure}

Of course, none of this would be useful without being given some
types and terms to start with and some rules for generating new types and terms
from old ones.  It is to these that we now turn.

\subsection{Inductive types}\label{sec:inductive_intro}

Among all of the types which can be constructed, some of the most
significant and interesting are the \emph{inductive types}.  The most
familiar example of an inductive type is the type $\nat$ of natural
numbers.  For types, the property of being inductive is the same as
being free in an appropriate (type theoretic) sense.  E.g., $\nat$ is
freely generated by the following data:
\begin{itemize}
\item a term $\zero:\nat$; and
\item a term $\judge{x:\nat}{\successor(x):\nat}$.
\end{itemize}
Consequently, $\nat$ has a type theoretic universal property which
should be familiar as proof by induction (alternatively, definition by
recursion).  Namely, given any type 
\begin{align*}
  \judge{x:\nat}{E(x)}
\end{align*}
fibered over $\nat$ together with terms:
\begin{itemize}
\item $e:E(\zero)$ (\emph{base case}); and
\item $\judge{x:\nat,y:E(x)}{f(x,y):E(\successor(x))}$
  (\emph{induction step}),
\end{itemize}
there exists a term, which we denote by
$\judge{x:\nat}{\rec(e,f,x)}$, of type $E(x)$.  This term has
the corresponding properties that 
\begin{align*}
  \rec(e,f,\zero) & = e,\text{ and}\\
  \rec(e,f,\successor(x)) & = f(x,\rec(e,f,x)).
\end{align*}
This should be compared with the usual way that functions from the
natural numbers are defined by recursion.

In general, it is possible to construct inductive types which are
generated (in the sense that $\nat$ is freely generated by zero and
successor) by arbitrary generators (subject to some technical
conditions on the kinds of generators allowed).  Indeed, it is also
possible to construct inductive types which
are themselves dependent.  We will encounter several other examples of inductive
types below, but for now we mention one single significant example.

If $A$ is a type, consider the inductive type fibered over $A\times A$
with a single generator $\rr(a)$ in the fiber over the pair $(a,a)$.
That is, consider the smallest (in an appropriate sense) fibration
over $A\times A$ having such elements $\rr(a)$ in the fibers.
Somewhat miraculously, this inductive type turns out to be a well
known topological space: the space of all (continuous) paths in $A$.
\begin{theorem}[Awodey and Warren \cite{Awodey:2009bz}]\label{theorem:aw}
  The path space fibration $A^{I}\to A\times A$ is an inductive
  type.
\end{theorem}
Actually, Theorem \ref{theorem:aw} is just a small part of a more
general result from \emph{ibid} (see also \cite{Warren:2008ts} for
further details): it is possible to model type theory in
weak factorization systems or Quillen model categories
\cite{Quillen:1967uz} which satisfy certain coherence conditions.
Going the other way, Gambino and Garner \cite{Gambino:2008bg} showed
that it is possible to construct a weak factorization system from the
syntax of type theory.

\subsection{Groupoids and $\infty$-groupoids}\label{sec:groupoids}

The type theoretic content of Theorem \ref{theorem:aw} is more than it
perhaps looks at first.  The reason for this is that the inductive
type corresponding to the path space fibration is in fact a well-known
inductive type and one which plays a crucial role in type theory.  Called the
\emph{identity type of $A$}, this type is usually written
type-theoretically as 
\begin{align*}
  \judge{x:A,y:A}{\id{A}(x,y)}
\end{align*}
with generators written as
\begin{align*}
  \judge{x:A}{\rr(x):\id{A}(x,x)}.
\end{align*}
Type theorists traditionally thought of the type $\id{A}(a,b)$ as
something like the ``proposition that $a$ and $b$ are equal proofs
that $A$''.  It was also known that it is possible to
construct a set theoretic model of type theory by thinking, as in
perspective (1) above, of types as sets and terms as elements.  In
this set theoretic interpretation we have that
\begin{align*}
  \id{A}(a,b) & =
  \begin{cases}
    1 & \text{ if }a=b,\text{ and}\\
    0 & \text{ otherwise.}
  \end{cases}
\end{align*}
I.e., $\id{A}(a,b)$ is either the one point set or the empty set
depending on whether or not $a$ and $b$ are in fact equal.  Under this
interpretation it follows that if there is a term $f:\id{A}(a,b)$,
then in fact $a=b$.  This was originally seen by many, no doubt based
on intuitions gleaned from the set theoretic model, as a desirable
property and this property was added by many type theorists (including, for a time,
Martin-L\"{o}f himself) as an axiom, which we call the
\emph{0-truncation rule}.  

Type theory with the 0-truncation rule may
be somewhat easier to work with and, by work of Seely
\cite{Seely:1984jw} and a coherence result due to Hofmann \cite{Hofmann:1995be}, it is
possible, using the machinery of locally cartesian closed categories,
to obtain many different models of type theory which satisfy the
0-truncation rule.  Nonetheless, adding the 0-truncation rule destroys
the good computational properties of type theory (see Section
\ref{section:computational} for a brief description of the
computational aspects of type theory).  Many of the early questions in
Martin-L\"{o}f type theory were related to questions about the
behavior of the identity types in the theory without 0-truncation.  In
particular, many results were concerned with trying to understand
whether facts which are consequences of the 0-truncation axiom also
hold without the 0-truncation axiom.  Streicher's
\emph{Habilitationsschrift} \cite{Streicher:vg} contains many fundamental results in this
direction.

One important example of the kind of questions about identity types
that type theorists were trying to answer is the problem of
``uniqueness of identity proofs'': if $f$ and $g$ are both of type
$\id{A}(a,b)$, does it follow that $f=g$ (or even that there exists a
term $\eta:\id{\id{A}(a,b)}(f,g)$)?  In order to solve this problem
Hofmann and Streicher \cite{Hofmann:1998ty} constructed a model of
type theory in which types are interpreted as groupoids and fibrations
of groupoids, and terms are interpreted as sections (see below for the
notion of groupoids).  In the process of
constructing this model, Hofmann and Streicher discovered an
interesting fact which we will now describe.

Given terms $a$ and $b$ of type $A$, there is an equivalence relation
$\simeq$ on the set of terms of type $\id{A}(a,b)$ given by setting
$f\simeq g$ if and only if there exists a term
$\eta:\id{\id{A}(a,b)}(f,g)$.  In terms of spaces, $f$ and $g$
correspond to paths from $a$ to $b$ in the space $A$ and $\eta$
corresponds to a homotopy rel endpoints from $f$ to $g$.  Hofmann and
Streicher realized that the quotient of the set
of terms $f:\id{A}(a,a)$ modulo $\simeq$ forms a group.  In fact, they
realized that the type $A$ can be made into a groupoid.  Recall that a
groupoid is a category in which every arrow is invertible.  To turn
$A$ into a groupoid we take the objects to be the terms $a:A$ and the
edges to be equivalence classes of $f:\id{A}(a,b)$ modulo $\simeq$.
We now see that these two constructions correspond, under the homotopy
theoretic interpretation of type theory sketched above, to the
constructions of the fundamental group $\pi_{1}(A,a)$ of the space $A$
with basepoint $a$ and the fundamental groupoid $\Pi_{1}(A)$ (see
\cite{Brown:2006tj} for more on the fundamental groupoid of a space).
In fact, Hofmann and Streicher realized that their construction seemed to give
some kind of $\infty$-groupoid, but they did not pursue
this possibility.  The first non-syntactic higher-dimensional models (which
are shown to satisfy all of the required coherence conditions) of type theory
appeared later in work of Voevodsky \cite{Voevodsky:2009,Kapulkin:USS} and Warren
\cite{Warren:2008ts,Warren:2011tn}.

In homotopy theory one is also concerned with groupoids and
$\infty$-groupoids.  The fundamental groupoid $\Pi_{1}(A)$
of a space $A$ is the basepoint-free generalization of Poincar\'{e}'s
\cite{Poincare:1895vx} fundamental group and captures the homotopy
1-types.  Here a \emph{homotopy $n$-type}
is intuitively a space $A$ for which the higher-homotopy groups
$\pi_{i}(A,a)$, for $i>n$, vanish.  For spaces $A$ that are not
1-types one must consider higher-dimensional generalizations of
the notion of groupoid in order to capture the homotopy theoretic
content of $A$.  In his letter to Quillen, Grothendieck \cite{Grothendieck:2005wy} emphasized the importance of
finding an infinite dimensional generalization of the notion of
groupoid which would capture the homotopy types of spaces
and indeed he offered a suggestion himself (see \cite{Maltsiniotis}
for a modern exposition of Grothendieck's definition).  This problem has been one of
the leading motivations for the development of higher-dimensional
category theory (see \cite{Baues:1995js} for a
detailed overview of the problem of modeling homotopy types, and see
\cite{Loday:1982vg,Kapranov:1991uw,Simpson:1998wi,Tamsamani:1999ia,Cisinski:2007by}
for some results on modeling homotopy types).

In the setting of type theory, with respect to the Batanin-Leinster
\cite{Batanin:1998kp,Leinster:2004fi} notion of $\infty$-groupoid,
types have associated $\infty$-groupoids:
\begin{theorem}[van den Berg and Garner \cite{vandenBerg:2011ec}, and
  Lumsdaine \cite{Lumsdaine:2010ew}]
  Every type $A$ has an associated fundamental $\infty$-groupoid $\Pi_{\infty}(A)$.
\end{theorem}
Hence the set theoretic intuition for
the meaning of types fails to accurately capture certain features of
the syntax, whereas those features (non-trivial higher-dimensional
structure) are captured by the homotopy theoretic interpretation of
types.

\subsection{The univalent model of type theory}\label{sec:univalent_model}

We mentioned above the problem of finding a notion of
$\infty$-groupoid which completely captures the notion of homotopy
type.  One such notion is provided by \emph{Kan complexes}.
Introduced by Kan \cite{Kan:1957up}, these were shown by Quillen
\cite{Quillen:1967uz} to provide a model of homotopy types.  Kan
complexes are simplicial sets which satisfy a certain combinatorial
condition.  In the work of Joyal \cite{Joyal:2008uc} and Lurie
\cite{Lurie:2009un} on $\infty$-toposes, the Kan complexes are the
$\infty$-groupoids.  The starting place for Voevodsky's univalent
perspective is the following result:
\begin{theorem}[Voevodsky \cite{Voevodsky:2009}]
  Assuming the existence of Grothendieck universes (sufficiently large
  cardinals), there is a model of type theory in the category of
  simplicial sets (equipped with well-orderings) in which types are interpreted as Kan complexes and
  Kan fibrations.
\end{theorem}
We will henceforth refer to Voevodsky's model as the \emph{univalent
  model} of type theory.  The particular kind of type theory
considered by Voevodsky includes a
type $\UU$ which is a universe of types which we refer to  as
\emph{small types}.\footnote{The universes
  in Voevodsky's model play two roles.  The first is simply to
  interpret universes of types.  The second is to avoid certain
  coherence issues which arise in the homotopy theoretic
  interpretation of type theory.}  Given small types $A$ and $B$, it
is then natural to ask what kinds of terms arise in the identity type
$\id{\UU}(A,B)$.  Voevodsky realized
that, although this type \emph{a priori} possesses no interesting
structure, in the univalent model it turns out to be non-trivial.
Based on this observation, Voevodsky proposed to add to the axioms of
type theory an additional axiom, called the \emph{Univalence Axiom},
which would ensure that the identity type of $\UU$ behaves as it does
in the univalent model.  We will now explain this axiom and some of
its consequences.

It will be instructive to compare several different ways of
understanding the Univalence Axiom.  However, we will first start by
giving an explicit description of the axiom.  Given small types $A$
and $B$ there is, in addition to the identity
type $\id{\UU}(A,B)$, a type $\weq(A,B)$ of \emph{weak equivalences}
from $A$ to $B$.  Intuitively, thinking of $A$ and $B$ as spaces, a
weak equivalence $f:A\to B$ is a continuous function which induces
isomorphisms on homotopy groups: 
\begin{align*}
  \pi_{n}(f):\pi_{n}(A,a)\iso\pi_{n}(B,f(a))
\end{align*}
for $n\geq 0$.\footnote{Technically, because we are dealing with
  sufficiently nice spaces such as CW-complexes or Kan complexes, the
  weak equivalences do in fact coincide with the homotopy equivalences.}
Since the identity $1_{A}:A\to A$ is a weak equivalence, there is, by
the induction principle for identity types, an induced map
$\iota:\id{\UU}(A,B)\to\weq(A,B)$ and the Univalence Axiom can be
stated as follows:
\begin{description}
\item[Univalence Axiom \textnormal{(Voevodsky)}] The map $\iota:\id{\UU}(A,B)\to\weq(A,B)$
  is a weak equivalence.
\end{description}
That is, the Univalence Axiom imposes the condition that the identity
type between two types is naturally weakly equivalent to the type of
weak equivalences between these types.  The Univalence Axiom makes it
possible to automatically transport constructions and proofs between
types which are connected by appropriately defined weak
equivalences.

Without the Univalence Axiom there are three \emph{a priori} different ways in which two small types
$A$ and $B$ can be said to be equivalent:
\begin{enumerate}
\item $A=B$.
\item There exists a term $f:\id{\UU}(A,B)$.
\item There exists a term $f:\weq(A,B)$.
\end{enumerate}
The Univalence Axiom should be understood as asserting (in a type
theoretic way) that (2) and (3) coincide.  (Interestingly, the
0-truncation axiom for $\UU$ asserts that (1) and (2)
coincide.)  That is, the Univalence Axiom answers the question ``What is a path from $A$ to $B$ in
the space of small spaces?'' by stipulating that such a path
corresponds to a weak equivalence $A\to B$.  

Alternatively, the Univalence Axiom may be understood as stating that the types
of the form $\weq(A,B)$ are inductively generated by the identity maps
$1_{A}:\weq(A,A)$.  Part of the appeal of the Univalence Axiom is that
it has a number of interesting consequences which we will discuss
below.  The connection between the Univalence Axiom and object
classifiers from topos theory has recently been investigated by
Moerdijk \cite{Moerdijk:2012vl}.

\subsection{The univalent perspective}

Following Voevodsky, we define a filtration of types by what are
called \emph{h-levels} extending the usual
filtration of spaces by homotopy $n$-types.  The h-levels are defined
as follows:
\begin{itemize}
\item A type $A$ is of h-level $0$ if it is contractible.
\item A type $A$ is of h-level $(n+1)$ if, for all terms $a$ and $b$
  of type $A$, the type $\id{A}(a,b)$ is of h-level $n$.
\end{itemize}
For $n>1$, $A$ is of h-level $n$ if and only if it is a homotopy
$(n-2)$-type.  E.g., types of h-level $2$ are the same as homotopy
0-types: spaces which are homotopy equivalent to sets.  From a more
category theoretic point of view we can view the h-levels as
follows:
\begin{figure}[ht]
  \centering
  \begin{tabular}{cl}
    \emph{h-level} & \emph{corresponding spaces up to weak equivalence}\\
    \hline
    0 & the contractible space $1$\\
    1 & the space $1$ and the empty space $0$\\
    2 & the homotopy $1$-types (i.e., groupoids)\\
    3 & the homotopy $2$-types (i.e., 2-groupoids)\\
    \vdots & \vdots\\
    $n$ & the homotopy $(n-2)$-types (i.e., weak $(n-2)$-groupoids)\\
    \vdots & \vdots
  \end{tabular}
  \caption{h-levels.}
  \label{fig:hlevels}
\end{figure}

It is worth recording several basic observations.  First, weak
equivalences respect h-level: if there is
a weak equivalence $f:A\to B$, then $A$ is of h-level $n$ if and only
if $B$ is of h-level $n$.  Secondly, h-levels are cumulative in the sense
that if $A$ is of h-level $n$, then it is also of h-level $(n+1)$.
Finally, for any $n$, if $A$ (or $B$) is of h-level $(n+1)$ then so is
$\weq(A,B)$.

We denote by $\hprop$ the type of all (small) types of h-level $1$.
The type $\hprop$ plays the same role, from the univalent perspective,
as the boolean algebra $\mathbf{2}:=\{0,1\}$ in classical logic and set
theory, or the subobject classifier $\Omega$ in topos theory.  We will
usually refer to types in $\hprop$ as \emph{propositions}.  For
$\hprop$, the Univalence Axiom states that paths in $\hprop$
correspond to logical equivalences.  I.e., for propositions $P$ and
$Q$, it is a necessary and sufficient condition for there to exist a
term of type $\id{\hprop}(P,Q)$ that $P$ and $Q$ should be logically
equivalent.

Similarly, we denote by $\hset$ the type of all (small) types of
h-level $2$ and we refer to these types as \emph{sets}.  The type
$\hprop$ is itself a set.  To see this, note that, by the
``propositional'' form of the Univalence Axiom mentioned above, there is
a weak equivalence $\iota:\id{\hprop}(A,B)\to\weq(A,B)$.  It then
follows from the basic observations on h-levels summarized above that
$\id{\hprop}(A,B)$ has h-level 1, as required.  This result is a
special case of the more general fact that the Univalence
Axiom implies that the type $\textnormal{\texttt{hlevel}}_{n}$ of all
(small) types of h-level $n$ is itself of h-level $(n+1)$.

As we see it, the principal idea underlying the univalent perspective is that,
rather than developing mathematics in the setting of set theory where one must
``build'' all of mathematics up from the emptyset and the operations
of set theory, we should instead work in a formal system (namely, type
theory) where we are given at the outset the world of spaces (homotopy types).
In this setting we would still have all of the sets available to us,
but they are ``carved out of'' or extracted from the
universe as the types of h-level 2.

\begin{figure}[ht]
  \centering
  \begin{tabular}{l|cc}
    & \emph{set theoretic} & \emph{univalent}\\
    \hline
    \emph{spaces} & constructed & given\\
    \emph{sets} & given & extracted
  \end{tabular}
  \caption{Sets and spaces from set theoretic and univalent perspectives.}
  \label{fig:comparison}
\end{figure}
Something which is not revealed in this simple comparison is that it
is considerably easier to extract sets from the world of homotopy
types than it is to construct spaces from sets.

From the univalent perspective, the development of ordinary ``set-level
mathematics'', which deals with sets and structures (e.g., groups,
rings, \ldots) on sets, is quite similar with the ordinary development
of mathematics.  However, in this setting it is also easy to develop
``higher-level mathematics''.  To take on simple example, the notion of
\emph{monoid} can be axiomatized in the ordinary way.  I.e., a monoid
consists of a type $M$ together with a binary operation $\mu:M\times
M\to M$ which is associative and unital (in the appropriate type
theoretic sense).  When we restrict $M$ to just
small types in $\hset$, we obtain the usual notion of monoid.
However, when $M$ is allowed to be an arbitrary type, we obtain the
notion of \emph{homotopy associative H-space} in the sense of Serre
\cite{Serre:1951uf}.  We believe that it is an advantage of the
univalent perspective that it is in fact easier to work with such
higher-level structures in the univalent setting than in the familiar
set theoretic setting.

In addition to the fact that it is efficient to reason about
higher-dimensional structures in the univalent setting, there are also
technical advantages to doing so.  For example, in the presence of the
Univalence Axiom, any structure on a type $A$ which is type
theoretically definable can be transferred along a weak equivalence
$A\to B$ to give a corresponding structure on $B$.  In general, being
able to transfer structures along weak equivalences (or even homotopy
equivalences) is non-trivial (see, e.g., \cite{Loday:2012vi} for some
examples of such ``homotopy transfer theorems'' and their
consequences).  Therefore, being able to work in a setting where such
transfer is ``automatic'' is technically quite convenient.

\subsection{Computational aspects}\label{section:computational}

One of the advantages of working with the particular flavor of
Martin-L\"{o}f type theory employed in the univalent setting is that
this theory has good computational properties.  In technical terms,
type checking in this theory is decidable.  Consequently, it is
possible to implement the theory on a computer.  This is essentially
what has been done in the case of the ``proof assistants'' Coq and
Agda. Therefore, mathematics in the univalent setting can be
formalized in these systems and the veracity of proofs can be
automatically checked.  In the case of reasoning involving homotopy
theoretic or higher-dimensional algebraic structures, which sometimes
involve keeping track of large quantities of complex combinatorial
data (think of, e.g., reasoning involving \emph{tricategories}
\cite{Gordon:CT}), being able to make use of the computer to ensure
that calculational errors have not been made is potentially quite
useful.

Part of the reason that Martin-L\"{o}f type theory enjoys such good
computational properties is that it is a \emph{constructive} theory.
\emph{Classical logic} is the usual logic (or framework for
organizing mathematical arguments) employed in mathematics (it is the
logic of the Boolean algebra $\{0,1\}$).  The logic employed in
constructive mathematics is obtained from classical logic by omitting
the \emph{law of excluded middle}, which stipulates that, for any
statement $\varphi$, either $\varphi$ or not $\varphi$.  Working
constructively is often more challenging than working classically and
sometimes leads to new developments.  Although there are many reasons that one
might be interested in pursuing constructive mathematics we will give
several practical reasons.  First, constructive mathematics is more
general than classical mathematics in the same way that noncommutative
algebra is more general than commutative algebra.  Secondly, even in
the setting of classical mathematics constructive reasoning can be
useful.  For example, it is possible to reason constructively in
Grothendieck toposes (which do not in general admit classical
reasoning).  Finally, proofs given in a constructive setting will
carry algorithmic content, whereas this is not true in general for
proofs given in the classical setting.\footnote{It should be mentioned
  that there are logical techniques, which themselves exploit the algorithmic content of constructive reasoning, for
  extracting algorithmic content from classical proofs.  See \cite{Kohlenbach:APT}.}

\subsection{Reasoning about spaces in type theory}

Voevodsky \cite{Vo2012a} has described a construction of \emph{set quotients}
of types.  Explicitly, a relation on a type $X$ is given by a map
$R:X\times X\to\hprop$.  For equivalence relations $R$, we can form
the quotient $X/R$ of $X$.  This type $X/R$ is necessarily a set and
can be shown to have the appropriate universal property expected by
such a quotient.  The set $\pi_{0}(X)$ of path components of $X$ is
constructed as a set quotient in the usual way.  Because loop spaces
$\Omega(X,x)$ of types $X$ at points $x:X$ can be defined type
theoretically, it then follows that we may construct all of the
higher-homotopy groups $\pi_{n}(X,x)$ of $X$ with basepoint $x:X$ by
setting 
\begin{align*}
  \pi_{n}(X,x) & := \pi_{0}\bigl(\Omega^{n}(X,x)\bigr).
\end{align*}
Many of the usual properties of the groups $\pi_{n}(X,x)$ can then be
verified type theoretically.  E.g.,
\begin{enumerate}
\item the homotopy groups of contractible spaces are $0$.
\item the usual Eckmann-Hilton \cite{Eckmann:1961tx} argument shows that $\pi_{n}(X,x)$ is abelian for $n>1$
  (Licata \cite{Licata} has given a proof of this in the proof assistant Agda).
\item Voevodsky has developed a large part of the theory of homotopy
  fiber sequences.  Using this it is possible to construct the long
  exact sequence associated to a fibration.
\end{enumerate}

The notion of inductive type described in Section \ref{sec:inductive_intro}. is the type
theoretic analogue of the notion of a free algebraic structure on
a signature (a list of generating operations together with their
arities) as studied in universal algebra.  By considering a type
theoretic analogue of free algebraic structures on a signature subject to
relations, it is possible to describe many familiar spaces type
theoretically.  This notion is that of \emph{higher-inductive
  type} which is currently being developed by a number of researchers
(cf., the work by Lumsdaine and Shulman \cite{Lumsdaine:HIT,Shulman:HTTVI}).
Rather than giving a comprehensive introduction to this
subject, we will give a simple example which should illustrate the
ideas and we will then summarize a few of the additional things which
can be done with this idea.

To describe the circle $S^{1}$ as a higher-inductive type, we require
that it should have one generator $b : S^{1}$ and one generator
$\ell:\id{S^{1}}(b,b)$.  One then obtains an induction principle for
$S^{1}$ similar to the induction principle for $\nat$ described
earlier.  Namely, given any type $\judge{x:S^{1}}{E(x)}$ fibered over
$S^{1}$ together with terms
\begin{itemize}
\item $b':E(b)$; and
\item $\ell':\id{E(b)}\bigl(\ell_{!}(b'),b'\bigr)$
\end{itemize}
there exists a term $\judge{x:S^{1}}{\rec_{S^{1}}(b',\ell',x):E(x)}$
(satisfying appropriate ``computation'' conditions).  (Here
$\ell_{!}(b')$ is $b'$ \emph{transported in the fiber along the loop $l$}
for which we refer the reader to Section \ref{sec:transport}.)  So, in
particular, in order to construct a map $S^{1}\to X$, it suffices to
give a point $x:X$ and a loop $\ell':\id{X}(x,x)$ on $x$.  The usual
properties of $S^{1}$ then follow from this type theoretic description
(see \cite{Shulman:S1Z} for a type theoretic proof that $\pi_{1}(S^{1},b)\iso\mathbb{Z}$).

In basically the same way, finite (and suitably inductively generated)
CW-complexes and relative CW-complexes can be constructed as
higher-inductive types.  In fact, Lumsdaine \cite{Lumsdaine:MSHIT} has shown that
with higher-inductive types, the syntax of type theory gives rise to
all of the structure of a model category except for the finite
limits and colimits.

\subsection{Future directions}

There are a number of exciting directions in homotopy type theory and
univalent foundations which are currently being pursued.  We will
briefly summarize several of them.

First, there are a number of interesting theoretical questions
surrounding the Univalence Axiom which remain open.  The most pressing
of these questions is the question of the ``constructivity'' of the
Univalence Axiom posed by Voevodsky in \cite{Vo2012}.  Voevodsky
conjectured that, in the presence of the Univalence Axiom, for every
$t:\nat$, there exists a numeral $n:\nat$ and a term of type
$\id{\nat}(t,n)$.  Moreover, it is expected that there exists an
algorithm which will return such data when given a term $t$ of type
$\nat$.  Additionally, there is the question of finding additional
models of the Univalence Axiom and characterizing such models (see,
e.g., \cite{Shulman:UAID}).

Secondly, it remains to be seen how much of modern homotopy theory can
be formalized in type theory using either higher-inductive types or
some other approach.  Indeed, there is still work to be done to arrive
at a complete theoretical understanding of higher-inductive types.

Finally, the formalization of ordinary (set level and higher-level)
mathematics in the univalent setting remains to be done.  At present,
a large amount of mathematics has been formalized by Voevodsky in his
Coq library.  Additionally, together with Voevodsky, the authors have
been working on developing an approach to the theory of integrable
systems (using the new notion of $p$-adic integrable system as a test
case) in the univalent setting \cite{PeVoWa2012}.  Ultimately, we hope that it
will be possible to formalize large amounts of modern mathematics in
the univalent setting and that doing so will give rise to both new
theoretical insights and good numerical algorithms (extracted from code in
a proof assistant like Coq) which can be applied to real world
problems by applied mathematicians.

\input{basics}

\input{inductive}

\input{paths}

\input{we}

\input{advanced}

\emph{Acknowledgements.} We thank Pierre-Louis Curien, Marcelo Fiore, Helmut Hofer and Vladimir
Voevodsky for useful discussions on the topic of this paper.  We
also thank Chris Kapulkin for several helpful comments on a
preliminary draft.

%    Bibliographies can be prepared with BibTeX using amsplain,
%    amsalpha, or (for "historical" overviews) natbib style.
\bibliographystyle{amsplain}
%    Insert the bibliography data here.
\bibliography{ref}

\end{document}